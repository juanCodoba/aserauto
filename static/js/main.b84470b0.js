/*! For license information please see main.b84470b0.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),o=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var E=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===E?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case v:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Provider";case g:return(e._context.displayName||"Context")+".Consumer";case y:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var _,R,P=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign;function N(e){if(void 0===_)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||"",R=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+_+e+R}var x=!1;function M(e,t){if(!e||x)return"";x=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{x=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?N(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function q(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function U(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function D(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function F(e){if(U(e)!==e)throw Error(a(188))}function H(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=H(e)))return t;e=e.sibling}return null}var z=Array.isArray,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},$=[],K=-1;function W(e){return{current:e}}function Q(e){0>K||(e.current=$[K],$[K]=null,K--)}function V(e,t){K++,$[K]=e.current,e.current=t}var G=W(null),Y=W(null),J=W(null),X=W(null);function Z(e,t){switch(V(J,t),V(Y,e),V(G,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Ju(e=Yu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(G),V(G,t)}function ee(){Q(G),Q(Y),Q(J)}function te(e){null!==e.memoizedState&&V(X,e);var t=G.current,n=Ju(t,e.type);t!==n&&(V(Y,e),V(G,n))}function ne(e){Y.current===e&&(Q(G),Q(Y)),X.current===e&&(Q(X),qd._currentValue=j)}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof ge&&me(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ce(e)/ke|0)|0},Ce=Math.log,ke=Math.LN2;var Se=128,Te=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~o)?r=Ie(n):0!==(i&=s)?r=Ie(i):e||0!==(a=s&~a)&&(r=Ie(a)):0!==(s=n&~o)?r=Ie(s):0!==i?r=Ie(i):e||0!==(a=n&~a)&&(r=Ie(a)),0===r?0:0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||32===o&&0!==(4194176&a))?t:r}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function Pe(){var e=Te;return 0===(62914560&(Te<<=1))&&(Te=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function qe(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:Jd(e.type)}var Ue=Math.random().toString(36).slice(2),De="__reactFiber$"+Ue,Fe="__reactProps$"+Ue,He="__reactContainer$"+Ue,ze="__reactEvents$"+Ue,Be="__reactListeners$"+Ue,je="__reactHandles$"+Ue,$e="__reactResources$"+Ue,Ke="__reactMarker$"+Ue;function We(e){delete e[De],delete e[Fe],delete e[ze],delete e[Be],delete e[je]}function Qe(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[De])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[De]||e[He]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ge(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ye(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[Ke]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},it={};function at(e,t,n){if(o=t,re.call(it,o)||!re.call(ot,o)&&(rt.test(o)?it[o]=!0:(ot[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(z(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Tt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Tt(e,i,t[i])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,xt=null;function Mt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Fe]||null;if(!o)throw Error(a(90));mt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function qt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Nt||null!==xt)&&(Dc(),Nt&&(t=Nt,e=xt,xt=Nt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Fe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Dt=!1;if(nt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(Ch){Dt=!1}var Ht=null,zt=null,Bt=null;function jt(){if(Bt)return Bt;var e,t,n=zt,r=n.length,o="value"in Ht?Ht.value:Ht.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Bt=o.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function Qt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Vt,Gt,Yt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Qt(Jt),Zt=O({},Jt,{view:0,detail:0}),en=Qt(Zt),tn=O({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Vt=e.screenX-Yt.screenX,Gt=e.screenY-Yt.screenY):Gt=Vt=0,Yt=e),Vt)},movementY:function(e){return"movementY"in e?e.movementY:Gt}}),nn=Qt(tn),rn=Qt(O({},tn,{dataTransfer:0})),on=Qt(O({},Zt,{relatedTarget:0})),an=Qt(O({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Qt(O({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Qt(O({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Qt(O({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(O({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=Qt(O({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Qt(O({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=Qt(O({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Qt(O({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],Cn=nt&&"CompositionEvent"in window,kn=null;nt&&"documentMode"in document&&(kn=document.documentMode);var Sn=nt&&"TextEvent"in window&&!kn,Tn=nt&&(!Cn||kn&&8<kn&&11>=kn),In=String.fromCharCode(32),En=!1;function An(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Nn(e,t,n,r){Nt?xt?xt.push(r):xt=[r]:Nt=r,0<(t=qu(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xn=null,Mn=null;function Ln(e){_u(e,0)}function qn(e){if(ht(Ge(e)))return e}function Un(e,t){if("change"===e)return t}var Dn=!1;if(nt){var Fn;if(nt){var Hn="oninput"in document;if(!Hn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Hn="function"===typeof zn.oninput}Fn=Hn}else Fn=!1;Dn=Fn&&(!document.documentMode||9<document.documentMode)}function Bn(){xn&&(xn.detachEvent("onpropertychange",jn),Mn=xn=null)}function jn(e){if("value"===e.propertyName&&qn(Mn)){var t=[];Nn(t,Mn,e,Ot(e)),qt(Ln,t)}}function $n(e,t,n){"focusin"===e?(Bn(),Mn=n,(xn=t).attachEvent("onpropertychange",jn)):"focusout"===e&&Bn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Mn)}function Wn(e,t){if("click"===e)return qn(t)}function Qn(e,t){if("input"===e||"change"===e)return qn(t)}var Vn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Gn(e,t){if(Vn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Vn(e[o],t[o]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var o=t.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!n.extend&&i>r&&(o=r,r=i,i=o),o=Jn(t,i);var a=Jn(t,r);o&&a&&(1!==n.rangeCount||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Gn(ir,r)||(ir=r,0<(r=qu(or,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),gr=hr("animationstart"),mr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),et(t,[e])}var Sr=[],Tr=0,Ir=0;function Er(){for(var e=Tr,t=Ir=Tr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var o=Sr[t];Sr[t++]=null;var i=Sr[t];if(Sr[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Pr(n,o,i)}}function Ar(e,t,n,r){Sr[Tr++]=e,Sr[Tr++]=t,Sr[Tr++]=n,Sr[Tr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function _r(e,t,n,r){return Ar(e,t,n,r),Or(e)}function Rr(e,t){return Ar(e,null,null,t),Or(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;o&&null!==t&&3===e.tag&&(i=e.stateNode,o=31-we(n),null===(e=(i=i.hiddenUpdates)[o])?i[o]=[t]:e.push(t),t.lane=536870912|n)}function Or(e){if(50<_c)throw _c=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={},xr=new WeakMap;function Mr(e,t){if("object"===typeof e&&null!==e){var n=xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:q(t)},xr.set(e,t),t)}return{value:e,source:t,stack:q(t)}}var Lr=[],qr=0,Ur=null,Dr=0,Fr=[],Hr=0,zr=null,Br=1,jr="";function $r(e,t){Lr[qr++]=Dr,Lr[qr++]=Ur,Ur=e,Dr=t}function Kr(e,t,n){Fr[Hr++]=Br,Fr[Hr++]=jr,Fr[Hr++]=zr,zr=e;var r=Br;e=jr;var o=32-we(r)-1;r&=~(1<<o),n+=1;var i=32-we(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Br=1<<32-we(t)+o|n<<o|r,jr=i+e}else Br=1<<i|n<<o|r,jr=e}function Wr(e){null!==e.return&&($r(e,1),Kr(e,1,0))}function Qr(e){for(;e===Ur;)Ur=Lr[--qr],Lr[qr]=null,Dr=Lr[--qr],Lr[qr]=null;for(;e===zr;)zr=Fr[--Hr],Fr[Hr]=null,jr=Fr[--Hr],Fr[Hr]=null,Br=Fr[--Hr],Fr[Hr]=null}var Vr=null,Gr=null,Yr=!1,Jr=null,Xr=!1,Zr=Error(a(519));function eo(e){throw io(Mr(Error(a(418,"")),e)),Zr}function to(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Fe]=r,n){case"dialog":Ru("cancel",t),Ru("close",t);break;case"iframe":case"object":case"embed":Ru("load",t);break;case"video":case"audio":for(n=0;n<Eu.length;n++)Ru(Eu[n],t);break;case"source":Ru("error",t);break;case"img":case"image":case"link":Ru("error",t),Ru("load",t);break;case"details":Ru("toggle",t);break;case"input":Ru("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Ru("invalid",t);break;case"textarea":Ru("invalid",t),Ct(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Bu(t.textContent,n)?(null!=r.popover&&(Ru("beforetoggle",t),Ru("toggle",t)),null!=r.onScroll&&Ru("scroll",t),null!=r.onScrollEnd&&Ru("scrollend",t),null!=r.onClick&&(t.onclick=ju),t=!0):t=!1,t||eo(e)}function no(e){for(Vr=e.return;Vr;)switch(Vr.tag){case 3:case 27:return void(Xr=!0);case 5:case 13:return void(Xr=!1);default:Vr=Vr.return}}function ro(e){if(e!==Vr)return!1;if(!Yr)return no(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Xu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Gr&&eo(e),no(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Gr=sd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Gr=null}}else Gr=Vr?sd(e.stateNode.nextSibling):null;return!0}function oo(){Gr=Vr=null,Yr=!1}function io(e){null===Jr?Jr=[e]:Jr.push(e)}var ao=Error(a(460)),so=Error(a(474)),lo={then:function(){}};function co(e){return"fulfilled"===(e=e.status)||"rejected"===e}function uo(){}function ho(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(uo,uo),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(uo,uo);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e}throw fo=t,ao}}var fo=null;function po(){if(null===fo)throw Error(a(459));var e=fo;return fo=null,e}var go=null,mo=0;function yo(e){var t=mo;return mo+=1,null===go&&(go=[]),ho(go,e,t)}function vo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function bo(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function Co(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Ul(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n,r){var i=n.type;return i===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&wo(i)===t.type)?(vo(t=o(t,n.props),n),t.return=e,t):(vo(t=Fl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=Hl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function g(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vo(n=Fl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=jl(t,e.mode,n)).return=e,t;case C:return g(e,t=(0,t._init)(t._payload),n)}if(z(t)||I(t))return(t=Hl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return g(e,yo(t),n);if(t.$$typeof===m)return g(e,Es(e,t),n);bo(e,t)}return null}function y(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===o?h(e,t,n,r):null;case u:return n.key===o?f(e,t,n,r):null;case C:return y(e,t,n=(o=n._init)(n._payload),r)}if(z(n)||I(n))return null!==o?null:p(e,t,n,r,null);if("function"===typeof n.then)return y(e,t,yo(n),r);if(n.$$typeof===m)return y(e,t,Es(e,n),r);bo(e,n)}return null}function v(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,o);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,o);case C:return v(e,t,n,r=(0,r._init)(r._payload),o)}if(z(r)||I(r))return p(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return v(e,t,n,yo(r),o);if(r.$$typeof===m)return v(e,t,n,Es(t,r),o);bo(t,r)}return null}function b(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var w=f.key;null!==h;){if(h.key===w){if((w=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=o(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===C&&wo(w)===h.type){n(l,h.sibling),vo(p=o(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=Hl(f.props.children,l.mode,p,f.key)).return=l,l=p):(vo(p=Fl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return s(l);case u:e:{for(w=f.key;null!==h;){if(h.key===w){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=o(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=jl(f,l.mode,p)).return=l,l=p}return s(l);case C:return b(l,h,f=(w=f._init)(f._payload),p)}if(z(f))return function(o,a,s,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=y(o,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(o,d),a=i(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return n(o,d),Yr&&$r(o,h),c;if(null===d){for(;h<s.length;h++)null!==(d=g(o,s[h],l))&&(a=i(d,a,h),null===u?c=d:u.sibling=d,u=d);return Yr&&$r(o,h),c}for(d=r(d);h<s.length;h++)null!==(f=v(d,o,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=i(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(o,e)})),Yr&&$r(o,h),c}(l,h,f,p);if(I(f)){if("function"!==typeof(w=I(f)))throw Error(a(150));return function(o,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,h=s,f=s=0,p=null,m=l.next();null!==h&&!m.done;f++,m=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=y(o,h,m.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(o,h),s=i(b,s,f),null===d?u=b:d.sibling=b,d=b,h=p}if(m.done)return n(o,h),Yr&&$r(o,f),u;if(null===h){for(;!m.done;f++,m=l.next())null!==(m=g(o,m.value,c))&&(s=i(m,s,f),null===d?u=m:d.sibling=m,d=m);return Yr&&$r(o,f),u}for(h=r(h);!m.done;f++,m=l.next())null!==(m=v(h,o,f,m.value,c))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),s=i(m,s,f),null===d?u=m:d.sibling=m,d=m);return e&&h.forEach((function(e){return t(o,e)})),Yr&&$r(o,f),u}(l,h,f=w.call(f),p)}if("function"===typeof f.then)return b(l,h,yo(f),p);if(f.$$typeof===m)return b(l,h,Es(l,f),p);bo(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=o(h,f)).return=l,l=p):(n(l,h),(p=Bl(f,l.mode,p)).return=l,l=p),s(l)):n(l,h)}return function(e,t,n,r){try{mo=0;var o=b(e,t,n,r);return go=null,o}catch(a){if(a===ao)throw a;var i=Ll(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var ko=Co(!0),So=Co(!1),To=W(null),Io=W(0);function Eo(e,t){V(Io,e=cc),V(To,t),cc=e|t.baseLanes}function Ao(){V(Io,cc),V(To,To.current)}function _o(){cc=Io.current,Q(To),Q(Io)}var Ro=W(null),Po=null;function Oo(e){var t=e.alternate;V(Lo,1&Lo.current),V(Ro,e),null===Po&&(null===t||null!==To.current||null!==t.memoizedState)&&(Po=e)}function No(e){if(22===e.tag){if(V(Lo,Lo.current),V(Ro,e),null===Po){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Po=e)}}else xo()}function xo(){V(Lo,Lo.current),V(Ro,Ro.current)}function Mo(e){Q(Ro),Po===e&&(Po=null),Q(Lo)}var Lo=W(0);function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Do=r.unstable_scheduleCallback,Fo=r.unstable_NormalPriority,Ho={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zo(){return{controller:new Uo,data:new Map,refCount:0}}function Bo(e){e.refCount--,0===e.refCount&&Do(Fo,(function(){e.controller.abort()}))}var jo=null,$o=0,Ko=0,Wo=null;function Qo(){if(0===--$o&&null!==jo){null!==Wo&&(Wo.status="fulfilled");var e=jo;jo=null,Ko=0,Wo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vo=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===jo){var n=jo=[];$o=0,Ko=Cu(),Wo={status:"pending",value:void 0,then:function(e){n.push(e)}}}$o++,t.then(Qo,Qo)}(0,t),null!==Vo&&Vo(e,t)};var Go=W(null);function Yo(){var e=Go.current;return null!==e?e:tc.pooledCache}function Jo(e,t){V(Go,null===t?Go.current:t.pool)}function Xo(){var e=Yo();return null===e?null:{parent:Ho._currentValue,pool:e}}var Zo=0,ei=null,ti=null,ni=null,ri=!1,oi=!1,ii=!1,ai=0,si=0,li=null,ci=0;function ui(){throw Error(a(321))}function di(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vn(e[n],t[n]))return!1;return!0}function hi(e,t,n,r,o,i){return Zo=i,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?Ea:Aa,ii=!1,i=n(r,o),ii=!1,oi&&(i=pi(t,n,r,o)),fi(e),i}function fi(e){P.H=Ia;var t=null!==ti&&null!==ti.next;if(Zo=0,ni=ti=ei=null,ri=!1,si=0,li=null,t)throw Error(a(300));null===e||$a||null!==(e=e.dependencies)&&Ss(e)&&($a=!0)}function pi(e,t,n,r){ei=e;var o=0;do{if(oi&&(li=null),si=0,oi=!1,25<=o)throw Error(a(301));if(o+=1,ni=ti=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}P.H=_a,i=t(n,r)}while(oi);return i}function gi(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?Ci(t):t,e=e.useState()[0],(null!==ti?ti.memoizedState:null)!==e&&(ei.flags|=1024),t}function mi(){var e=0!==ai;return ai=0,e}function yi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vi(e){if(ri){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ri=!1}Zo=0,ni=ti=ei=null,oi=!1,si=ai=0,li=null}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ei.memoizedState=ni=e:ni=ni.next=e,ni}function wi(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ni?ei.memoizedState:ni.next;if(null!==t)ni=t,ti=e;else{if(null===e){if(null===ei.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ni?ei.memoizedState=ni=e:ni=ni.next=e}return ni}function Ci(e){var t=si;return si+=1,null===li&&(li=[]),e=ho(li,e,t),t=ei,null===(null===ni?t.memoizedState:ni.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?Ea:Aa),e}function ki(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ci(e);if(e.$$typeof===m)return Is(e)}throw Error(a(438,String(e)))}function Si(e){var t=null,n=ei.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ei.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Ti(e,t){return"function"===typeof t?t(e):t}function Ii(e){return Ei(wi(),ti,e)}function Ei(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:(Zo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ko&&(d=!0);else{if((Zo&f)===f){u=u.next,f===Ko&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,ei.lanes|=f,dc|=f}h=u.action,ii&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,ei.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Vn(i,e.memoizedState)&&($a=!0,d&&null!==(n=Wo)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ai(e){var t=wi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Vn(i,t.memoizedState)||($a=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function _i(e,t,n){var r=ei,o=wi(),i=Yr;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Vn((ti||o).memoizedState,n);if(s&&(o.memoizedState=n,$a=!0),o=o.queue,Zi(Oi.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==ni&&1&ni.memoizedState.tag){if(r.flags|=2048,Vi(9,Pi.bind(null,r,o,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));i||0!==(60&Zo)||Ri(r,t,n)}return n}function Ri(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ei.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pi(e,t,n,r){t.value=n,t.getSnapshot=r,Ni(t)&&xi(e)}function Oi(e,t,n){return n((function(){Ni(t)&&xi(e)}))}function Ni(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vn(e,n)}catch(r){return!0}}function xi(e){var t=Rr(e,2);null!==t&&Nc(t,e,2)}function Mi(e){var t=bi();if("function"===typeof e){var n=e;if(e=n(),ii){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:e},t}function Li(e,t,n,r){return e.baseState=n,Ei(e,ti,"function"===typeof r?r:Ti)}function qi(e,t,n,r,o){if(ka(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==P.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Ui(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Ui(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=P.T,a={};P.T=a;try{var s=n(o,r),l=P.S;null!==l&&l(a,s),Di(e,t,s)}catch(c){Hi(e,t,c)}finally{P.T=i}}else try{Di(e,t,i=n(o,r))}catch(u){Hi(e,t,u)}}function Di(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Fi(e,t,n)}),(function(n){return Hi(e,t,n)})):Fi(e,t,n)}function Fi(e,t,n){t.status="fulfilled",t.value=n,zi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ui(e,n)))}function Hi(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,zi(t),t=t.next}while(t!==r)}e.action=null}function zi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bi(e,t){return t}function ji(e,t){if(Yr){var n=tc.formState;if(null!==n){e:{var r=ei;if(Yr){if(Gr){t:{for(var o=Gr,i=Xr;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=sd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){Gr=sd(o.nextSibling),r="F!"===o.data;break e}}eo(r)}r=!1}r&&(t=n[0])}}return(n=bi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n.queue=r,n=ba.bind(null,ei,r),r.dispatch=n,r=Mi(!1),i=Ca.bind(null,ei,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=bi()).queue=o,n=qi.bind(null,ei,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function $i(e){return Ki(wi(),ti,e)}function Ki(e,t,n){t=Ei(e,t,Bi)[0],e=Ii(Ti)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?Ci(t):t;var r=wi(),o=r.queue,i=o.dispatch;return n!==r.memoizedState&&(ei.flags|=2048,Vi(9,Wi.bind(null,o,n),{destroy:void 0},null)),[t,i,e]}function Wi(e,t){e.action=t}function Qi(e){var t=wi(),n=ti;if(null!==n)return Ki(t,n,e);wi(),t=t.memoizedState;var r=(n=wi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Vi(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=ei.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Gi(){return wi().memoizedState}function Yi(e,t,n,r){var o=bi();ei.flags|=e,o.memoizedState=Vi(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ji(e,t,n,r){var o=wi();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==ti&&null!==r&&di(r,ti.memoizedState.deps)?o.memoizedState=Vi(t,n,i,r):(ei.flags|=e,o.memoizedState=Vi(1|t,n,i,r))}function Xi(e,t){Yi(8390656,8,e,t)}function Zi(e,t){Ji(2048,8,e,t)}function ea(e,t){return Ji(4,2,e,t)}function ta(e,t){return Ji(4,4,e,t)}function na(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ra(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ji(4,4,na.bind(null,t,e),n)}function oa(){}function ia(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&di(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aa(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&di(t,r[1]))return r[0];if(r=e(),ii){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function sa(e,t,n){return void 0===n||0!==(1073741824&Zo)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),ei.lanes|=e,dc|=e,n)}function la(e,t,n,r){return Vn(n,t)?n:null!==To.current?(e=sa(e,n,r),Vn(e,t)||($a=!0),e):0===(42&Zo)?($a=!0,e.memoizedState=n):(e=Oc(),ei.lanes|=e,dc|=e,t)}function ca(e,t,n,r,o){var i=B.p;B.p=0!==i&&8>i?i:8;var a=P.T,s={};P.T=s,Ca(e,!1,t,n);try{var l=o(),c=P.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)wa(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Pc());else wa(e,t,r,Pc())}catch(u){wa(e,t,{then:function(){},status:"rejected",reason:u},Pc())}finally{B.p=i,P.T=a}}function ua(){}function da(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=ha(e).queue;ca(e,o,t,j,null===n?ua:function(){return fa(e),n(r)})}function ha(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function fa(e){wa(e,ha(e).next.queue,{},Pc())}function pa(){return Is(qd)}function ga(){return wi().memoizedState}function ma(){return wi().memoizedState}function ya(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),r=Ns(t,e=Os(n),n);return null!==r&&(Nc(r,t,n),xs(r,t,n)),t={cache:zo()},void(e.payload=t)}t=t.return}}function va(e,t,n){var r=Pc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ka(e)?Sa(t,n):null!==(n=_r(e,t,n,r))&&(Nc(n,e,r),Ta(n,t,r))}function ba(e,t,n){wa(e,t,n,Pc())}function wa(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ka(e))Sa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Vn(s,a))return Ar(e,t,o,0),null===tc&&Er(),!1}catch(l){}if(null!==(n=_r(e,t,o,r)))return Nc(n,e,r),Ta(n,t,r),!0}return!1}function Ca(e,t,n,r){if(r={lane:2,revertLane:Cu(),action:r,hasEagerState:!1,eagerState:null,next:null},ka(e)){if(t)throw Error(a(479))}else null!==(t=_r(e,n,r,2))&&Nc(t,e,2)}function ka(e){var t=e.alternate;return e===ei||null!==t&&t===ei}function Sa(e,t){oi=ri=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ta(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}var Ia={readContext:Is,use:ki,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useInsertionEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useSyncExternalStore:ui,useId:ui};Ia.useCacheRefresh=ui,Ia.useMemoCache=ui,Ia.useHostTransitionStatus=ui,Ia.useFormState=ui,Ia.useActionState=ui,Ia.useOptimistic=ui;var Ea={readContext:Is,use:ki,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Xi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Yi(4194308,4,na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yi(4194308,4,e,t)},useInsertionEffect:function(e,t){Yi(4,2,e,t)},useMemo:function(e,t){var n=bi();t=void 0===t?null:t;var r=e();if(ii){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bi();if(void 0!==n){var o=n(t);if(ii){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=va.bind(null,ei,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:function(e){var t=(e=Mi(e)).queue,n=ba.bind(null,ei,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:oa,useDeferredValue:function(e,t){return sa(bi(),e,t)},useTransition:function(){var e=Mi(!1);return e=ca.bind(null,ei,e.queue,!0,!1),bi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ei,o=bi();if(Yr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||Ri(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Xi(Oi.bind(null,r,i,e),[e]),r.flags|=2048,Vi(9,Pi.bind(null,r,i,n,t),{destroy:void 0},null),n},useId:function(){var e=bi(),t=tc.identifierPrefix;if(Yr){var n=jr;t=":"+t+"R"+(n=(Br&~(1<<32-we(Br)-1)).toString(32)+n),0<(n=ai++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ci++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bi().memoizedState=ya.bind(null,ei)}};Ea.useMemoCache=Si,Ea.useHostTransitionStatus=pa,Ea.useFormState=ji,Ea.useActionState=ji,Ea.useOptimistic=function(e){var t=bi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ca.bind(null,ei,!0,n),n.dispatch=t,[e,t]};var Aa={readContext:Is,use:ki,useCallback:ia,useContext:Is,useEffect:Zi,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ii,useRef:Gi,useState:function(){return Ii(Ti)},useDebugValue:oa,useDeferredValue:function(e,t){return la(wi(),ti.memoizedState,e,t)},useTransition:function(){var e=Ii(Ti)[0],t=wi().memoizedState;return["boolean"===typeof e?e:Ci(e),t]},useSyncExternalStore:_i,useId:ga};Aa.useCacheRefresh=ma,Aa.useMemoCache=Si,Aa.useHostTransitionStatus=pa,Aa.useFormState=$i,Aa.useActionState=$i,Aa.useOptimistic=function(e,t){return Li(wi(),0,e,t)};var _a={readContext:Is,use:ki,useCallback:ia,useContext:Is,useEffect:Zi,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ai,useRef:Gi,useState:function(){return Ai(Ti)},useDebugValue:oa,useDeferredValue:function(e,t){var n=wi();return null===ti?sa(n,e,t):la(n,ti.memoizedState,e,t)},useTransition:function(){var e=Ai(Ti)[0],t=wi().memoizedState;return["boolean"===typeof e?e:Ci(e),t]},useSyncExternalStore:_i,useId:ga};function Ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}_a.useCacheRefresh=ma,_a.useMemoCache=Si,_a.useHostTransitionStatus=pa,_a.useFormState=Qi,_a.useActionState=Qi,_a.useOptimistic=function(e,t){var n=wi();return null!==ti?Li(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Pa={isMounted:function(e){return!!(e=e._reactInternals)&&U(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pc(),o=Os(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ns(e,o,r))&&(Nc(t,e,r),xs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pc(),o=Os(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ns(e,o,r))&&(Nc(t,e,r),xs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),r=Os(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ns(e,r,n))&&(Nc(t,e,n),xs(t,e,n))}};function Oa(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Gn(n,r)||!Gn(o,i))}function Na(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pa.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=O({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var Ma="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function La(e){Ma(e)}function qa(e){console.error(e)}function Ua(e){Ma(e)}function Da(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Fa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ha(e,t,n){return(n=Os(n)).tag=3,n.payload={element:null},n.callback=function(){Da(e,t)},n}function za(e){return(e=Os(e)).tag=3,e}function Ba(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Fa(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Fa(t,n,r),"function"!==typeof o&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var ja=Error(a(461)),$a=!1;function Ka(e,t,n,r){t.child=null===e?So(t,null,n,r):ko(t,e.child,n,r)}function Wa(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ts(t),r=hi(e,t,n,a,i,o),s=mi(),null===e||$a?(Yr&&s&&Wr(t),t.flags|=1,Ka(e,t,r,o),t.child):(yi(e,t,o),hs(e,t,o))}function Qa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||ql(i)||void 0!==i.defaultProps||null!==n.compare?((e=Fl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Va(e,t,i,r,o))}if(i=e.child,!fs(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Gn)(a,r)&&e.ref===t.ref)return hs(e,t,o)}return t.flags|=1,(e=Ul(i,r)).ref=t.ref,e.return=t,t.child=e}function Va(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Gn(i,r)&&e.ref===t.ref){if($a=!1,t.pendingProps=r=i,!fs(e,o))return t.lanes=e.lanes,hs(e,t,o);0!==(131072&e.flags)&&($a=!0)}}return Xa(e,t,n,r,o)}function Ga(e,t,n){var r=t.pendingProps,o=r.children,i=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Ja(e,t),"hidden"===r.mode||i){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ya(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ya(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Jo(0,null!==a?a.cachePool:null),null!==a?Eo(t,a):Ao(),No(t)}else null!==a?(Jo(0,a.cachePool),Eo(t,a),xo(),t.memoizedState=null):(null!==e&&Jo(0,null),Ao(),xo());return Ka(e,t,o,n),t.child}function Ya(e,t,n,r){var o=Yo();return o=null===o?null:{parent:Ho._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Jo(0,null),Ao(),No(t),null!==e&&ks(e,t,r,!0),null}function Ja(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xa(e,t,n,r,o){return Ts(t),n=hi(e,t,n,r,void 0,o),r=mi(),null===e||$a?(Yr&&r&&Wr(t),t.flags|=1,Ka(e,t,n,o),t.child):(yi(e,t,o),hs(e,t,o))}function Za(e,t,n,r,o,i){return Ts(t),t.updateQueue=null,n=pi(t,r,n,o),fi(e),r=mi(),null===e||$a?(Yr&&r&&Wr(t),t.flags|=1,Ka(e,t,n,i),t.child):(yi(e,t,i),hs(e,t,i))}function es(e,t,n,r,o){if(Ts(t),null===t.stateNode){var i=Nr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Is(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Pa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},Rs(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Is(a):Nr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Ra(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&Pa.enqueueReplaceState(i,i.state,null),Us(t,r,i,o),qs(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=xa(n,s);i.props=l;var c=i.context,u=n.contextType;a=Nr,"object"===typeof u&&null!==u&&(a=Is(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==a)&&Na(t,i,r,a),_s=!1;var h=t.memoizedState;i.state=h,Us(t,r,i,o),qs(),c=t.memoizedState,s||h!==c||_s?("function"===typeof d&&(Ra(t,n,d,r),c=t.memoizedState),(l=_s||Oa(t,n,l,r,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ps(e,t),u=xa(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Nr,"object"===typeof c&&null!==c&&(l=Is(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&Na(t,i,r,l),_s=!1,h=t.memoizedState,i.state=h,Us(t,r,i,o),qs();var f=t.memoizedState;a!==d||h!==f||_s||null!==e&&null!==e.dependencies&&Ss(e.dependencies)?("function"===typeof s&&(Ra(t,n,s,r),f=t.memoizedState),(u=_s||Oa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ss(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ja(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,n,o)):Ka(e,t,n,o),t.memoizedState=i.state,e=t.child):e=hs(e,t,o),e}function ts(e,t,n,r){return oo(),t.flags|=256,Ka(e,t,n,r),t.child}var ns={dehydrated:null,treeContext:null,retryLane:0};function rs(e){return{baseLanes:e,cachePool:Xo()}}function os(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function is(e,t,n){var r,o=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Lo.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(i?Oo(t):xo(),Yr){var l,c=Gr;if(l=c){e:{for(l=c,c=Xr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=sd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==zr?{id:Br,overflow:jr}:null,retryLane:536870912},(l=Ll(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Vr=t,Gr=null,l=!0):l=!1}l||eo(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Mo(t)}return c=o.children,o=o.fallback,i?(xo(),c=ss({mode:"hidden",children:c},i=t.mode),o=Hl(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=rs(n),i.childLanes=os(e,r,n),t.memoizedState=ns,o):(Oo(t),as(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(Oo(t),t.flags&=-257,t=ls(e,t,n)):null!==t.memoizedState?(xo(),t.child=e.child,t.flags|=128,t=null):(xo(),i=o.fallback,c=t.mode,o=ss({mode:"visible",children:o.children},c),(i=Hl(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,ko(t,e.child,null,n),(o=t.child).memoizedState=rs(n),o.childLanes=os(e,r,n),t.memoizedState=ns,t=i);else if(Oo(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,io({value:o,source:null,stack:null}),t=ls(e,t,n)}else if($a||ks(e,t,n,!1),r=0!==(n&e.childLanes),$a||r){if(null!==(r=tc)){if(0!==(42&(o=n&-n)))o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(0!==(o=0!==(o&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane)throw l.retryLane=o,Rr(e,o),Nc(r,e,o),ja}"$?"===c.data||$c(),t=ls(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=su.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Gr=sd(c.nextSibling),Vr=t,Yr=!0,Jr=null,Xr=!1,null!==e&&(Fr[Hr++]=Br,Fr[Hr++]=jr,Fr[Hr++]=zr,Br=e.id,jr=e.overflow,zr=t),(t=as(t,o.children)).flags|=4096);return t}return i?(xo(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Ul(l,{mode:"hidden",children:o.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?i=Ul(u,i):(i=Hl(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=rs(n):(null!==(l=c.cachePool)?(u=Ho._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xo(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=os(e,r,n),t.memoizedState=ns,o):(Oo(t),e=(n=e.child).sibling,(n=Ul(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function as(e,t){return(t=ss({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ss(e,t){return zl(e,t,0,null)}function ls(e,t,n){return ko(t,e.child,null,n),(e=as(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function cs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ws(e.return,t,n)}function us(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ds(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ka(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cs(e,n,t);else if(19===e.tag)cs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(Lo,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),us(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===qo(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}us(t,!0,n,null,i);break;case"together":us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ks(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ss(e))}function ps(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)$a=!0;else{if(!fs(e,n)&&0===(128&t.flags))return $a=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),vs(t,Ho,e.memoizedState.cache),oo();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:vs(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Oo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?is(e,t,n):(Oo(t),null!==(e=hs(e,t,n))?e.sibling:null);Oo(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ks(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return ds(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(Lo,Lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ga(e,t,n);case 24:vs(t,Ho,e.memoizedState.cache)}return hs(e,t,n)}(e,t,n);$a=0!==(131072&e.flags)}else $a=!1,Yr&&0!==(1048576&t.flags)&&Kr(t,Dr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===y){t.tag=11,t=Wa(null,t,r,e,n);break e}if(o===w){t.tag=14,t=Qa(null,t,r,e,n);break e}}throw t=A(r)||r,Error(a(306,t,""))}ql(r)?(e=xa(r,e),t.tag=1,t=es(null,t,r,e,n)):(t.tag=0,t=Xa(null,t,r,e,n))}return t;case 0:return Xa(e,t,t.type,t.pendingProps,n);case 1:return es(e,t,r=t.type,o=xa(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var i=t.pendingProps;r=(o=t.memoizedState).element,Ps(e,t),Us(t,i,null,n);var s=t.memoizedState;if(i=s.cache,vs(t,Ho,i),i!==o.cache&&Cs(t,[Ho],n,!0),qs(),i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ts(e,t,i,n);break e}if(i!==r){io(r=Mr(Error(a(424)),t)),t=ts(e,t,i,n);break e}for(Gr=sd(t.stateNode.containerInfo.firstChild),Vr=t,Yr=!0,Jr=null,Xr=!0,n=So(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oo(),i===r){t=hs(e,t,n);break e}Ka(e,t,i,n)}t=t.child}return t;case 26:return Ja(e,t),null===e?(n=md(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Gu(J.current).createElement(n))[De]=t,r[Fe]=e,Wu(r,n,e),Je(r),t.stateNode=r):t.memoizedState=md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=cd(t.type,t.pendingProps,J.current),Vr=t,Xr=!0,Gr=sd(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?Ka(e,t,r,n):t.child=ko(t,null,r,n),Ja(e,t),t.child;case 5:return null===e&&Yr&&((o=r=Gr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=sd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Xr))?(t.stateNode=r,Vr=t,Gr=sd(r.firstChild),Xr=!1,o=!0):o=!1),o||eo(t)),te(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,Xu(o,i)?r=null:null!==s&&Xu(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=hi(e,t,gi,null,null,n),qd._currentValue=o),Ja(e,t),Ka(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Gr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=sd(e.nextSibling)))return null}return e}(n,t.pendingProps,Xr))?(t.stateNode=n,Vr=t,Gr=null,e=!0):e=!1),e||eo(t)),null;case 13:return is(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Ka(e,t,r,n),t.child;case 11:return Wa(e,t,t.type,t.pendingProps,n);case 7:return Ka(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ka(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,vs(t,t.type,r.value),Ka(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ts(t),r=r(o=Is(o)),t.flags|=1,Ka(e,t,r,n),t.child;case 14:return Qa(e,t,t.type,t.pendingProps,n);case 15:return Va(e,t,t.type,t.pendingProps,n);case 19:return ds(e,t,n);case 22:return Ga(e,t,n);case 24:return Ts(t),r=Is(Ho),null===e?(null===(o=Yo())&&(o=tc,i=zo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},Rs(t),vs(t,Ho,o)):(0!==(e.lanes&n)&&(Ps(e,t),Us(t,null,null,n),qs()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),vs(t,Ho,r)):(r=i.cache,vs(t,Ho,r),r!==o.cache&&Cs(t,[Ho],n,!0))),Ka(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var gs=W(null),ms=null,ys=null;function vs(e,t,n){V(gs,t._currentValue),t._currentValue=n}function bs(e){e._currentValue=gs.current,Q(gs)}function ws(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ws(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),ws(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function ks(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=o.type;Vn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===X.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(qd):e=[qd])}o=o.return}null!==e&&Cs(t,e,n,r),t.flags|=262144}function Ss(e){for(e=e.firstContext;null!==e;){if(!Vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){ms=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Is(e){return As(ms,e)}function Es(e,t){return null===ms&&Ts(e),As(e,t)}function As(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(a(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var _s=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Or(e),Pr(e,null,n),t}return Ar(e,r,t,n),Or(e)}function xs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ls=!1;function qs(){if(Ls){if(null!==Wo)throw Wo}}function Us(e,t,n,r){Ls=!1;var o=e.updateQueue;_s=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(rc&h)===h:(r&h)===h){0!==h&&h===Ko&&(Ls=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,g=s;h=t;var m=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(m,d,h):p)||void 0===h)break e;d=O({},d,h);break e;case 2:_s=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=d}}function Ds(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Fs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ds(n[e],t)}function Hs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(s){ru(t,t.return,s)}}function zs(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var l=n;try{s()}catch(c){ru(o,l,c)}}}r=r.next}while(r!==i)}}catch(c){ru(t,t.return,c)}}function Bs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Fs(t,n)}catch(r){ru(e,e.return,r)}}}function js(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function $s(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=r;break;default:o=r}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(i){ru(e,t,i)}}function Ks(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){ru(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){ru(e,t,i)}else n.current=null}function Ws(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){ru(e,e.return,o)}}function Qs(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||$u(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&$u(e,t,f,p,r,h)}}return void mt(e,s,l,c,u,d,i,o);case"select":for(i in p=s=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||$u(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&$u(e,t,o,i,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:$u(e,t,l,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&$u(e,t,s,o,r,i)}return void wt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else $u(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else $u(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&$u(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:$u(e,t,u,f,r,p)}return;default:if(Et(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Ku(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Ku(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&$u(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||$u(e,t,h,f,r,p)}(r,e.type,n,t),r[Fe]=t}catch(o){ru(e,e.return,o)}}function Vs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Gs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Vs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ys(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ju));else if(4!==r&&27!==r&&null!==(e=e.child))for(Ys(e,t,n),e=e.sibling;null!==e;)Ys(e,t,n),e=e.sibling}function Js(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Js(e,t,n),e=e.sibling;null!==e;)Js(e,t,n),e=e.sibling}var Xs=!1,Zs=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yl(e,n),4&r&&Hs(5,n);break;case 1:if(yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ru(n,n.return,s)}else{var o=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Bs(n),512&r&&$s(n,n.return);break;case 3:if(yl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Fs(r,e)}catch(s){ru(n,n.return,s)}}break;case 26:yl(e,n),512&r&&$s(n,n.return);break;case 27:case 5:yl(e,n),null===t&&4&r&&Ws(n),512&r&&$s(n,n.return);break;case 12:default:yl(e,n);break;case 13:yl(e,n),4&r&&ul(e,n);break;case 22:if(!(o=null!==n.memoizedState||Xs)){t=null!==t&&null!==t.memoizedState||Zs;var i=Xs,a=Zs;Xs=o,(Zs=t)&&!a?bl(e,n,0!==(8772&n.subtreeFlags)):yl(e,n),Xs=i,Zs=a}512&r&&("manual"===n.memoizedProps.mode?$s(n,n.return):Ks(n,n.return))}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:Zs||Ks(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zs||Ks(n,t);var r=al,o=sl;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);We(n),al=r,sl=o;break;case 5:Zs||Ks(n,t);case 6:o=al;var i=sl;if(al=null,ll(e,t,n),sl=i,null!==(al=o))if(sl)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){ru(n,t,s)}else try{al.removeChild(n.stateNode)}catch(s){ru(n,t,s)}break;case 18:null!==al&&(sl?(t=al,n=n.stateNode,8===t.nodeType?id(t.parentNode,n):1===t.nodeType&&id(t,n),gh(t)):id(al,n.stateNode));break;case 4:r=al,o=sl,al=n.stateNode.containerInfo,sl=!0,ll(e,t,n),al=r,sl=o;break;case 0:case 11:case 14:case 15:Zs||zs(2,n,t),Zs||zs(4,n,t),ll(e,t,n);break;case 1:Zs||(Ks(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&js(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zs||Ks(n,t),Zs=(r=Zs)||null!==n.memoizedState,ll(e,t,n),Zs=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gh(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(i,s,o),al=null,sl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),gl(e),4&r&&(zs(3,e,e.return),Hs(3,e),zs(5,e,e.return));break;case 1:hl(t,e),gl(e),512&r&&(Zs||null===n||Ks(n,n.return)),64&r&&Xs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=fl;if(hl(t,e),gl(e),512&r&&(Zs||null===n||Ks(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Ke]||i[De]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),Wu(i,r,n),i[De]=e,Je(i),r=i;break e;case"link":var s=Ad("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}Wu(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=Ad("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}Wu(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[De]=e,Je(i),r=i}e.stateNode=r}else _d(o,e.type,e.stateNode);else e.stateNode=kd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?_d(o,e.type,e.stateNode):kd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Qs(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){o=e.stateNode,i=e.memoizedProps;try{for(var c=o.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[Ke]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||o.removeChild(c),c=u}for(var h=e.type,f=o.attributes;f.length;)o.removeAttributeNode(f[0]);Wu(o,h,i),o[De]=e,o[Fe]=i}catch(g){ru(e,e.return,g)}}case 5:if(hl(t,e),gl(e),512&r&&(Zs||null===n||Ks(n,n.return)),32&e.flags){o=e.stateNode;try{kt(o,"")}catch(g){ru(e,e.return,g)}}4&r&&null!=e.stateNode&&Qs(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(el=!0);break;case 6:if(hl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){ru(e,e.return,g)}}break;case 3:if(Ed=null,o=fl,fl=hd(t.containerInfo),hl(t,e),fl=o,gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gh(t.containerInfo)}catch(g){ru(e,e.return,g)}el&&(el=!1,ml(e));break;case 4:r=fl,fl=hd(e.stateNode.containerInfo),hl(t,e),gl(e),fl=r;break;case 12:hl(t,e),gl(e);break;case 13:hl(t,e),gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Zs||null===n||Ks(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Xs=(d=Xs)||c,Zs=(h=Zs)||u,hl(t,e),Zs=h,Xs=d,gl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Xs||Zs,null===n||u||t||vl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,c)"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{s=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){ru(u,u.return,g)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(g){ru(u,u.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),gl(e)}}function gl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Vs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var o=r.stateNode;Js(e,Gs(e),o);break;case 5:var i=r.stateNode;32&r.flags&&(kt(i,""),r.flags&=-33),Js(e,Gs(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;Ys(e,Gs(e),s);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ol(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zs(4,t,t.return),vl(t);break;case 1:Ks(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&js(t,t.return,n),vl(t);break;case 26:case 27:case 5:Ks(t,t.return),vl(t);break;case 22:Ks(t,t.return),null===t.memoizedState&&vl(t);break;default:vl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:bl(o,i,n),Hs(4,i);break;case 1:if(bl(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)Ds(l[o],s)}catch(c){ru(r,r.return,c)}}n&&64&a&&Bs(i),$s(i,i.return);break;case 26:case 27:case 5:bl(o,i,n),n&&null===r&&4&a&&Ws(i),$s(i,i.return);break;case 12:default:bl(o,i,n);break;case 13:bl(o,i,n),n&&4&a&&ul(o,i);break;case 22:null===i.memoizedState&&bl(o,i,n),$s(i,i.return)}t=t.sibling}}function wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bo(n))}function Cl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e))}function kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t,n,r),t=t.sibling}function Sl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,r),2048&o&&Hs(9,t);break;case 3:kl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e)));break;case 12:if(2048&o){kl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else kl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,null!==t.memoizedState?4&i._visibility?kl(e,t,n,r):Il(e,t):4&i._visibility?kl(e,t,n,r):(i._visibility|=4,Tl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&wl(t.alternate,t);break;case 24:kl(e,t,n,r),2048&o&&Cl(t.alternate,t);break;default:kl(e,t,n,r)}}function Tl(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Tl(i,a,s,l,o),Hs(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?Tl(i,a,s,l,o):Il(i,a):(u._visibility|=4,Tl(i,a,s,l,o)),o&&2048&c&&wl(a.alternate,a);break;case 24:Tl(i,a,s,l,o),o&&2048&c&&Cl(a.alternate,a);break;default:Tl(i,a,s,l,o)}t=t.sibling}}function Il(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Il(n,r),2048&o&&wl(r.alternate,r);break;case 24:Il(n,r),2048&o&&Cl(r.alternate,r);break;default:Il(n,r)}t=t.sibling}}var El=8192;function Al(e){if(e.subtreeFlags&El)for(e=e.child;null!==e;)_l(e),e=e.sibling}function _l(e){switch(e.tag){case 26:Al(e),e.flags&El&&null!==e.memoizedState&&function(e,t,n){if(null===Pd)throw Error(a(475));var r=Pd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=yd(n.href),i=e.querySelector(vd(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Nd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Je(i);i=e.ownerDocument||e,n=bd(n),(o=ud.get(o))&&Td(n,o),Je(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Wu(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Nd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:Al(e);break;case 3:case 4:var t=fl;fl=hd(e.stateNode.containerInfo),Al(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=El,El=16777216,Al(e),El=t):Al(e))}}function Rl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,xl(r,e)}Rl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ol(e),e=e.sibling}function Ol(e){switch(e.tag){case 0:case 11:case 15:Pl(e),2048&e.flags&&zs(9,e,e.return);break;case 3:case 12:default:Pl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Nl(e)):Pl(e)}}function Nl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,xl(r,e)}Rl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:zs(8,t,t.return),Nl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Nl(t));break;default:Nl(t)}e=e.sibling}}function xl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:zs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var o=(r=nl).sibling,i=r.return;if(il(r),r===n){nl=null;break e}if(null!==o){o.return=i,nl=o;break e}nl=i}}}function Ml(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Ml(e,t,n,r)}function ql(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Dl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,n,r,o,i){var s=0;if(r=e,"function"===typeof e)ql(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,G.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Hl(n.children,o,i,t);case h:s=8,o|=24;break;case f:return(e=Ll(12,n,t,2|o)).elementType=f,e.lanes=i,e;case v:return(e=Ll(13,n,t,o)).elementType=v,e.lanes=i,e;case b:return(e=Ll(19,n,t,o)).elementType=b,e.lanes=i,e;case k:return zl(n,o,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case m:s=10;break e;case g:s=9;break e;case y:s=11;break e;case w:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ll(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Hl(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function zl(e,t,n,r){(e=Ll(22,e,r,t)).elementType=k,e.lanes=n;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0===(2&o._pendingVisibility)){var t=Rr(e,2);null!==t&&(o._pendingVisibility|=2,Nc(t,e,2))}},attach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0!==(2&o._pendingVisibility)){var t=Rr(e,2);null!==t&&(o._pendingVisibility&=-3,Nc(t,e,2))}}};return e.stateNode=o,e}function Bl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e){e.flags|=4}function Kl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Rd(t)){if(null!==(t=Ro.current)&&((4194176&rc)===rc?null!==Po:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Po))throw fo=lo,so;e.flags|=8192}}function Wl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,gc|=t)}function Ql(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=31457280&o.subtreeFlags,r|=31457280&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gl(e,t,n){var r=t.pendingProps;switch(Qr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Vl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bs(Ho),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ro(t)?$l(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Jr&&(Mc(Jr),Jr=null))),Vl(t),null;case 26:return n=t.memoizedState,null===e?($l(t),null!==n?(Vl(t),Kl(t,n)):(Vl(t),t.flags&=-16777217)):n?n!==e.memoizedState?($l(t),Vl(t),Kl(t,n)):(Vl(t),t.flags&=-16777217):(e.memoizedProps!==r&&$l(t),Vl(t),t.flags&=-16777217),null;case 27:ne(t),n=J.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Vl(t),null}e=G.current,ro(t)?to(t):(e=cd(o,r,n),t.stateNode=e,$l(t))}return Vl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Vl(t),null}if(e=G.current,ro(t))to(t);else{switch(o=Gu(J.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[De]=t,e[Fe]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Wu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$l(t)}}return Vl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=J.current,ro(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=Vr))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Bu(e.nodeValue,n)))||eo(t)}else(e=Gu(e).createTextNode(r))[De]=t,t.stateNode=e}return Vl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=ro(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[De]=t}else oo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vl(t),o=!1}else null!==Jr&&(Mc(Jr),Jr=null),o=!0;if(!o)return 256&t.flags?(Mo(t),t):(Mo(t),null)}if(Mo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),Vl(t),null;case 4:return ee(),null===e&&Nu(t.stateNode.containerInfo),Vl(t),null;case 10:return bs(t.type),Vl(t),null;case 19:if(Q(Lo),null===(o=t.memoizedState))return Vl(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)Ql(o,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=qo(e))){for(t.flags|=128,Ql(o,!1),e=i.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Dl(n,e),n=n.sibling;return V(Lo,1&Lo.current|2),t.child}e=e.sibling}null!==o.tail&&le()>wc&&(t.flags|=128,r=!0,Ql(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=qo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Ql(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!Yr)return Vl(t),null}else 2*le()-o.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,Ql(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=le(),t.sibling=null,e=Lo.current,V(Lo,r?1&e|2:1&e),t):(Vl(t),null);case 22:case 23:return Mo(t),_o(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Vl(t),6&t.subtreeFlags&&(t.flags|=8192)):Vl(t),null!==(n=t.updateQueue)&&Wl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&Q(Go),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bs(Ho),Vl(t),null;case 25:return null}throw Error(a(156,t.tag))}function Yl(e,t){switch(Qr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bs(Ho),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Mo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));oo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Q(Lo),null;case 4:return ee(),null;case 10:return bs(t.type),null;case 22:case 23:return Mo(t),_o(),null!==e&&Q(Go),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bs(Ho),null;default:return null}}function Jl(e,t){switch(Qr(t),t.tag){case 3:bs(Ho),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Mo(t);break;case 19:Q(Lo);break;case 10:bs(t.type);break;case 22:case 23:Mo(t),_o(),null!==e&&Q(Go);break;case 24:bs(Ho)}}var Xl={getCacheForType:function(e){var t=Is(Ho),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,oc=0,ic=null,ac=!1,sc=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,fc=0,pc=0,gc=0,mc=null,yc=null,vc=!1,bc=0,wc=1/0,Cc=null,kc=null,Sc=!1,Tc=null,Ic=0,Ec=0,Ac=null,_c=0,Rc=null;function Pc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==P.T){return 0!==Ko?Ko:Cu()}return qe()}function Oc(){0===pc&&(pc=0===(536870912&rc)||Yr?Re():536870912);var e=Ro.current;return null!==e&&(e.flags|=32),pc}function Nc(e,t,n){(e===tc&&2===oc||null!==e.cancelPendingCommit)&&(Hc(e,0),Uc(e,rc,pc,!1)),Ne(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Uc(e,rc,pc,!1)),gu(e))}function xc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ae(e,t),o=r?function(e,t){var n=ec;ec|=2;var r=Bc(),o=jc();tc!==e||rc!==t?(Cc=null,wc=le()+500,Hc(e,t)):sc=Ae(e,t);e:for(;;)try{if(0!==oc&&null!==nc){t=nc;var i=ic;t:switch(oc){case 1:oc=0,ic=null,Yc(e,t,i,1);break;case 2:if(co(i)){oc=0,ic=null,Gc(t);break}t=function(){2===oc&&tc===e&&(oc=7),gu(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:co(i)?(oc=0,ic=null,Gc(t)):(oc=0,ic=null,Yc(e,t,i,7));break;case 5:var s=null;switch(nc.tag){case 26:s=nc.memoizedState;case 5:case 27:var l=nc;if(!s||Rd(s)){oc=0,ic=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Jc(u)):nc=null}break t}}oc=0,ic=null,Yc(e,t,i,5);break;case 6:oc=0,ic=null,Yc(e,t,i,6);break;case 8:Fc(),uc=6;break e;default:throw Error(a(462))}}Qc();break}catch(d){zc(e,d)}return ys=ms=null,P.H=r,P.A=o,ec=n,null!==nc?0:(tc=null,rc=0,Er(),uc)}(e,t):Kc(e,t,!0),i=r;;){if(0===o){sc&&!r&&Uc(e,t,0,!1);break}if(6===o)Uc(e,t,0,!ac);else{if(n=e.current.alternate,i&&!qc(n)){o=Kc(e,t,!1),i=!1;continue}if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=mc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,s).flags|=256),2!==(s=Kc(l,s,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=i,hc|=i,o=4;break e}i=yc,yc=o,null!==i&&Mc(i)}o=s}if(i=!1,2!==o)continue}}if(1===o){Hc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,o){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Uc(r,t,pc,!ac);break e}break;case 2:yc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(i=bc+300-le())){if(Uc(r,t,pc,!ac),0!==Ee(r,0))break e;r.timeoutHandle=ed(Lc.bind(null,r,n,yc,Cc,vc,t,pc,hc,gc,ac,2,-0,0),i)}else Lc(r,n,yc,Cc,vc,t,pc,hc,gc,ac,0,-0,0)}}break}gu(e)}function Mc(e){null===yc?yc=e:yc.push.apply(yc,e)}function Lc(e,t,n,r,o,i,s,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Pd={stylesheets:null,count:0,unsuspend:Od},_l(t),null!==(t=function(){if(null===Pd)throw Error(a(475));var e=Pd;return e.stylesheets&&0===e.count&&Md(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Md(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,o,s,l,c,1,h,f)),void Uc(e,i,s,!u);Zc(e,n,r,o,s,l,c,d,h,f)}function qc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Vn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~fc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-we(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&xe(e,n,t)}function Dc(){return 0!==(6&ec)||(mu(0,!1),!1)}function Fc(){if(null!==nc){if(0===oc)var e=nc.return;else ys=ms=null,vi(e=nc),go=null,mo=0,e=nc;for(;null!==e;)Jl(e.alternate,e),e=e.return;nc=null}}function Hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Fc(),tc=e,nc=n=Ul(e.current,null),rc=t,oc=0,ic=null,ac=!1,sc=Ae(e,t),lc=!1,gc=pc=fc=hc=dc=uc=0,yc=mc=null,vc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-we(r),i=1<<o;t|=e[o],r&=~i}return cc=t,Er(),n}function zc(e,t){ei=null,P.H=Ia,t===ao?(t=po(),oc=3):t===so?(t=po(),oc=4):oc=t===ja?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===nc&&(uc=1,Da(e,Mr(t,e.current)))}function Bc(){var e=P.H;return P.H=Ia,null===e?Ia:e}function jc(){var e=P.A;return P.A=Xl,e}function $c(){uc=4,ac||(4194176&rc)!==rc&&null!==Ro.current||(sc=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Uc(tc,rc,pc,!1)}function Kc(e,t,n){var r=ec;ec|=2;var o=Bc(),i=jc();tc===e&&rc===t||(Cc=null,Hc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==oc&&null!==nc){var s=nc,l=ic;switch(oc){case 8:Fc(),a=6;break e;case 3:case 2:case 6:null===Ro.current&&(t=!0);var c=oc;if(oc=0,ic=null,Yc(e,s,l,c),n&&sc){a=0;break e}break;default:c=oc,oc=0,ic=null,Yc(e,s,l,c)}}Wc(),a=uc;break}catch(u){zc(e,u)}return t&&e.shellSuspendCounter++,ys=ms=null,ec=r,P.H=o,P.A=i,null===nc&&(tc=null,rc=0,Er()),a}function Wc(){for(;null!==nc;)Vc(nc)}function Qc(){for(;null!==nc&&!ae();)Vc(nc)}function Vc(e){var t=ps(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Jc(e):nc=t}function Gc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Za(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Za(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:vi(t);default:Jl(n,t),t=ps(n,t=nc=Dl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Jc(e):nc=t}function Yc(e,t,n,r){ys=ms=null,vi(t),go=null,mo=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ks(t,n,o,!0),null!==(n=Ro.current)){switch(n.tag){case 13:return null===Po?$c():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ou(e,r,o)),!1;case 22:return n.flags|=65536,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ou(e,r,o)),!1}throw Error(a(435,n.tag))}return ou(e,r,o),$c(),!1}if(Yr)return null!==(t=Ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Zr&&io(Mr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&io(Mr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Mr(r,n),Ms(e,o=Ha(e.stateNode,r,o)),4!==uc&&(uc=2)),!1;var i=Error(a(520),{cause:r});if(i=Mr(i,n),null===mc?mc=[i]:mc.push(i),4!==uc&&(uc=2),null===t)return!0;r=Mr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Ms(n,e=Ha(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Ba(o=za(o),e,n,r),Ms(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,rc))return uc=1,Da(e,Mr(n,e.current)),void(nc=null)}catch(i){if(null!==o)throw nc=o,i;return uc=1,Da(e,Mr(n,e.current)),void(nc=null)}32768&t.flags?(Yr||1===r?e=!0:sc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ro.current)&&13===r.tag&&(r.flags|=16384))),Xc(t,e)):Jc(t)}function Jc(e){var t=e;do{if(0!==(32768&t.flags))return void Xc(t,ac);e=t.return;var n=Gl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Xc(e,t){do{var n=Yl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,o,i,s,l,c,u){var d=P.T,h=B.p;try{B.p=2,P.T=null,function(e,t,n,r,o,i,s,l){do{tu()}while(null!==Tc);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&xe(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,r,u|=Ir,i,s,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Sc||(Sc=!0,Ec=u,Ac=n,function(e,t){oe(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=P.T,P.T=null,i=B.p,B.p=2,s=ec,ec|=4,function(e,t){if(e=e.containerInfo,Qu=$d,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==i||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vu={focusedElem:e,selectionRange:n},$d=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(i=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var g=xa(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){ru(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}g=rl,rl=!1}(e,c),pl(c,e),tr(Vu,e.containerInfo),$d=!!Qu,Vu=Qu=null,e.current=c,ol(e,c.alternate,c),se(),ec=s,B.p=i,P.T=n):e.current=c,Sc?(Sc=!1,Tc=e,Ic=r):eu(e,u),u=e.pendingLanes,0===u&&(kc=null),function(e){if(ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),gu(e),null!==t)for(o=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],o(u.value,{componentStack:u.stack});0!==(3&Ic)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Rc?_c++:(_c=0,Rc=e):_c=0,mu(0,!1)}(e,t,n,r,h,o,i,s)}finally{P.T=d,B.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bo(t)))}function tu(){if(null!==Tc){var e=Tc,t=Ec;Ec=0;var n=Le(Ic),r=P.T,o=B.p;try{if(B.p=32>n?32:n,P.T=null,null===Tc)var i=!1;else{n=Ac,Ac=null;var s=Tc,l=Ic;if(Tc=null,Ic=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,Ol(s.current),Sl(s,s.current,l,n),ec=c,mu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(u){}i=!0}return i}finally{B.p=o,P.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Mr(n,t),null!==(e=Ns(e,t=Ha(e.stateNode,t,2),2))&&(Ne(e,2),gu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Mr(n,e),null!==(r=Ns(t,n=za(2),2))&&(Ba(n,r,t,e),Ne(r,2),gu(r));break}}t=t.return}}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(lc=!0,o.add(n),e=iu.bind(null,e,t,n),t.then(e,e))}function iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&Hc(e,0):fc|=n,gc===rc&&(gc=0)),gu(e)}function au(e,t){0===t&&(t=Pe()),null!==(e=Rr(e,t))&&(Ne(e,t),gu(e))}function su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,du=!1,hu=!1,fu=!1,pu=0;function gu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=yu,rd((function(){0!==(6&ec)?oe(ue,t):t()})))}function mu(e,t){if(!fu&&hu){fu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326677&(i&=o&~(a&~s))?201326677&i|1:i?2|i:0}0!==i&&(n=!0,wu(r,i))}else i=rc,0===(3&(i=Ee(r,r===tc?i:0)))||Ae(r,i)||(n=!0,wu(r,i));r=r.next}}while(n);fu=!1}}function yu(){hu=du=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=pu),pu=0);for(var t=le(),n=null,r=cu;null!==r;){var o=r.next,i=vu(r,t);0===i?(r.next=null,null===n?cu=o:n.next=o,null===o&&(uu=n)):(n=r,(0!==e||0!==(3&i))&&(hu=!0)),r=o}mu(e,!1)}function vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-we(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=_e(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=rc,n=Ee(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===oc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=bu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ee(e,e===tc?r:0))?null:(xc(e,r,t),vu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function wu(e,t){if(tu())return null;xc(e,t,!0)}function Cu(){return 0===pu&&(pu=Re()),pu}function ku(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Su(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Tu=0;Tu<Cr.length;Tu++){var Iu=Cr[Tu];kr(Iu.toLowerCase(),"on"+(Iu[0].toUpperCase()+Iu.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(gr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(mr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Au=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function _u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Ma(u)}o.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Ma(u)}o.currentTarget=null,i=l}}}}function Ru(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(xu(t,e,2,!1),n.add(r))}function Pu(e,t,n){var r=0;t&&(r|=4),xu(n,e,r,t)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Nu(e){if(!e[Ou]){e[Ou]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(Au.has(t)||Pu(t,!1,e),Pu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ou]||(t[Ou]=!0,Pu("selectionchange",!1,t))}}function xu(e,t,n,r){switch(Jd(t)){case 2:var o=Kd;break;case 8:o=Wd;break;default:o=Qd}n=o.bind(null,t,n,e),o=void 0,!Dt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Mu(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Qe(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=i=a;continue e}s=s.parentNode}}r=r.return}qt((function(){var r=i,o=Ot(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var l=Xt,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mn;break;case fr:case pr:case gr:l=an;break;case br:l=yn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=vn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=gn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Ut(p,h))&&u.push(Lu(p,g,f)),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!Qe(c)&&!c[He])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qe(c):null)&&(d=U(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Ge(l),f=null==c?s:Ge(c),(s=new u(g,p+"leave",l,n,o)).target=d,s.relatedTarget=f,g=null,Qe(o)===r&&((u=new u(h,p+"enter",c,n,o)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Uu(f))p++;for(f=0,g=h;g;g=Uu(g))f++;for(;0<p-f;)u=Uu(u),p--;for(;0<f-p;)h=Uu(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Uu(u),h=Uu(h)}u=null}else u=null;null!==l&&Du(a,s,l,u,!1),null!==c&&null!==d&&Du(a,d,c,u,!0)}if("select"===(l=(s=r?Ge(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Un;else if(On(s))if(Dn)m=Qn;else{m=Kn;var y=$n}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Et(r.elementType)&&(m=Un):m=Wn;switch(m&&(m=m(e,r))?Nn(a,m,n,o):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),y=r?Ge(r):window,e){case"focusin":(On(y)||"true"===y.contentEditable)&&(rr=y,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,o)}var v;if(Cn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Rn?An(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Tn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Rn&&(v=jt()):(zt="value"in(Ht=o)?Ht.value:Ht.textContent,Rn=!0)),0<(y=qu(r,b)).length&&(b=new ln(b,e,null,n,o),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=_n(n))&&(b.data=v))),(v=Sn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(En=!0,In);case"textInput":return(e=t.data)===In&&En?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Cn&&An(e,t)?(e=jt(),Bt=zt=Ht=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=qu(r,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,o),a.push({event:y,listeners:b}),y.data=v)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=ku((o[Fe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Fe]||null)?ku(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new Xt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=a?Su(o,a):new FormData(o);da(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?Su(o,a):new FormData(o),da(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}_u(a,t)}))}function Lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Ut(e,n))&&r.unshift(Lu(e,o,i)),null!=(o=Ut(e,t))&&r.push(Lu(e,o,i))),e=e.return}return r}function Uu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Du(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=Ut(n,i))&&a.unshift(Lu(n,c,l)):o||null!=(c=Ut(n,i))&&a.push(Lu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Fu=/\r\n?/g,Hu=/\u0000|\uFFFD/g;function zu(e){return("string"===typeof e?e:""+e).replace(Fu,"\n").replace(Hu,"")}function Bu(e,t){return t=zu(t),zu(e)===t}function ju(){}function $u(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":st(e,"class",r);break;case"tabIndex":st(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,r);break;case"style":It(e,r,i);break;case"data":if("object"!==t){st(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&$u(e,t,"name",o.name,o,null),$u(e,t,"formEncType",o.formEncType,o,null),$u(e,t,"formMethod",o.formMethod,o,null),$u(e,t,"formTarget",o.formTarget,o,null)):($u(e,t,"encType",o.encType,o,null),$u(e,t,"method",o.method,o,null),$u(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=ju);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ru("beforetoggle",e),Ru("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=At.get(n)||n,r)}}function Ku(e,t,n,r,o,i){switch(n){case"style":It(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"onClick":null!=r&&(e.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Fe]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function Wu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ru("error",e),Ru("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:$u(e,t,r,s,n,null)}}return i&&$u(e,t,"srcSet",n.srcSet,n,null),void(o&&$u(e,t,"src",n.src,n,null));case"input":Ru("invalid",e);var l=r=s=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:$u(e,t,o,d,n,null)}}return yt(e,r,l,c,u,s,i,!1),void dt(e);case"select":for(i in Ru("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:$u(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(s in Ru("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:$u(e,t,s,l,n,null)}return Ct(e,o,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else $u(e,t,c,o,n,null);return;case"dialog":Ru("cancel",e),Ru("close",e);break;case"iframe":case"object":Ru("load",e);break;case"video":case"audio":for(o=0;o<Eu.length;o++)Ru(Eu[o],e);break;case"image":Ru("error",e),Ru("load",e);break;case"details":Ru("toggle",e);break;case"embed":case"source":case"link":Ru("error",e),Ru("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:$u(e,t,u,o,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Ku(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&$u(e,t,l,o,n,null))}var Qu=null,Vu=null;function Gu(e){return 9===e.nodeType?e:e.ownerDocument}function Yu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ju(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(od)}:ed;function od(e){setTimeout((function(){throw e}))}function id(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void gh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);gh(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Gu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fd=B.d;B.d={f:function(){var e=fd.f(),t=Dc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?fa(t):fd.r(e)},D:function(e){fd.D(e),gd("dns-prefetch",e,null)},C:function(e,t){fd.C(e,t),gd("preconnect",e,t)},L:function(e,t,n){fd.L(e,t,n);var r=pd;if(r&&e&&t){var o='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+gt(n.imageSizes)+'"]')):o+='[href="'+gt(e)+'"]';var i=o;switch(t){case"style":i=yd(e);break;case"script":i=wd(e)}ud.has(i)||(e=O({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(vd(i))||"script"===t&&r.querySelector(Cd(i))||(Wu(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}},m:function(e,t){fd.m(e,t);var n=pd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=wd(e)}if(!ud.has(i)&&(e=O({rel:"modulepreload",href:e},t),ud.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Cd(i)))return}Wu(r=n.createElement("link"),"link",e),Je(r),n.head.appendChild(r)}}},X:function(e,t){fd.X(e,t);var n=pd;if(n&&e){var r=Ye(n).hoistableScripts,o=wd(e),i=r.get(o);i||((i=n.querySelector(Cd(o)))||(e=O({src:e,async:!0},t),(t=ud.get(o))&&Id(e,t),Je(i=n.createElement("script")),Wu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){fd.S(e,t,n);var r=pd;if(r&&e){var o=Ye(r).hoistableStyles,i=yd(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(vd(i)))s.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(i))&&Td(e,n);var l=a=r.createElement("link");Je(l),Wu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Sd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){fd.M(e,t);var n=pd;if(n&&e){var r=Ye(n).hoistableScripts,o=wd(e),i=r.get(o);i||((i=n.querySelector(Cd(o)))||(e=O({src:e,async:!0,type:"module"},t),(t=ud.get(o))&&Id(e,t),Je(i=n.createElement("script")),Wu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var pd="undefined"===typeof document?null:document;function gd(e,t,n){var r=pd;if(r&&"string"===typeof t&&t){var o=gt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),dd.has(o)||(dd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(Wu(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}}function md(e,t,n,r){var o,i,s,l,c=(c=J.current)?hd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=yd(n.href),(r=(n=Ye(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=yd(n.href);var u=Ye(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(vd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(o=c,i=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),Wu(i,"link",s),Je(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wd(n),(r=(n=Ye(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function yd(e){return'href="'+gt(e)+'"'}function vd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function wd(e){return'[src="'+gt(e)+'"]'}function Cd(e){return"script[async]"+e}function kd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Je(r),r;var o=O({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Je(r=(e.ownerDocument||e).createElement("style")),Wu(r,"style",o),Sd(r,n.precedence,e),t.instance=r;case"stylesheet":o=yd(n.href);var i=e.querySelector(vd(o));if(i)return t.state.loading|=4,t.instance=i,Je(i),i;r=bd(n),(o=ud.get(o))&&Td(r,o),Je(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Wu(i,"link",r),t.state.loading|=4,Sd(i,n.precedence,e),t.instance=i;case"script":return i=wd(n.src),(o=e.querySelector(Cd(i)))?(t.instance=o,Je(o),o):(r=n,(o=ud.get(i))&&Id(r=O({},n),o),Je(o=(e=e.ownerDocument||e).createElement("script")),Wu(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Sd(r,n.precedence,e));return t.instance}function Sd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ed=null;function Ad(e,t,n){if(null===Ed){var r=new Map,o=Ed=new Map;o.set(n,r)}else(r=(o=Ed).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Ke]||i[De]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function _d(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Rd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Pd=null;function Od(){}function Nd(){if(this.count--,0===this.count)if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var xd=null;function Md(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,xd=new Map,t.forEach(Ld,e),xd=null,Nd.call(e))}function Ld(e,t){if(!(4&t.state.loading)){var n=xd.get(e);if(n)var r=n.get(null);else{n=new Map,xd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=Nd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var qd={$$typeof:m,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function Ud(e,t,n,r,o,i,a,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Dd(e,t,n,r,o,i,a,s,l,c,u,d){return e=new Ud(e,t,n,a,s,l,c,d),t=1,!0===i&&(t|=24),i=Ll(3,null,null,t),e.current=i,i.stateNode=e,(t=zo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},Rs(i),e}function Fd(e){return e?e=Nr:Nr}function Hd(e,t,n,r,o,i){o=Fd(o),null===r.context?r.context=o:r.pendingContext=o,(r=Os(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=Ns(e,r,t))&&(Nc(n,0,t),xs(n,e,t))}function zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bd(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function jd(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&Nc(t,0,67108864),Bd(e,67108864)}}var $d=!0;function Kd(e,t,n,r){var o=P.T;P.T=null;var i=B.p;try{B.p=2,Qd(e,t,n,r)}finally{B.p=i,P.T=o}}function Wd(e,t,n,r){var o=P.T;P.T=null;var i=B.p;try{B.p=8,Qd(e,t,n,r)}finally{B.p=i,P.T=o}}function Qd(e,t,n,r){if($d){var o=Vd(r);if(null===o)Mu(e,t,r,Gd,n),ah(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Zd=sh(Zd,e,t,n,r,o),!0;case"dragenter":return eh=sh(eh,e,t,n,r,o),!0;case"mouseover":return th=sh(th,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return nh.set(i,sh(nh.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,rh.set(i,sh(rh.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(ah(e,r),4&t&&-1<ih.indexOf(e)){for(;null!==o;){var i=Ve(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Ie(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-we(a);s.entanglements[1]|=l,a&=~l}gu(i),0===(6&ec)&&(wc=le()+500,mu(0,!1))}}break;case 13:null!==(s=Rr(i,2))&&Nc(s,0,2),Dc(),Bd(i,2)}if(null===(i=Vd(r))&&Mu(e,t,r,Gd,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Mu(e,t,r,null,n)}}function Vd(e){return Yd(e=Ot(e))}var Gd=null;function Yd(e){if(Gd=null,null!==(e=Qe(e))){var t=U(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=D(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gd=e,null}function Jd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Xd=!1,Zd=null,eh=null,th=null,nh=new Map,rh=new Map,oh=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function sh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Ve(t))&&jd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function lh(e){var t=Qe(e.target);if(null!==t){var n=U(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=D(n)))return e.blockedOn=t,void function(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}(e.priority,(function(){if(13===n.tag){var e=Pc(),t=Rr(n,e);null!==t&&Nc(t,0,e),Bd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vd(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&jd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){Xd=!1,null!==Zd&&ch(Zd)&&(Zd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),rh.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dh)))}var fh=null;function ph(e){fh!==e&&(fh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fh===e&&(fh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Yd(r||n))continue;break}var i=Ve(n);null!==i&&(e.splice(t,3),t-=3,da(i,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function gh(e){function t(t){return hh(t,e)}null!==Zd&&hh(Zd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<oh.length;n++){var r=oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<oh.length&&null===(n=oh[0]).blockedOn;)lh(n),null===n.blockedOn&&oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[Fe]||null;if("function"===typeof i)a||ph(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[Fe]||null)s=a.formAction;else if(null!==Yd(o))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),ph(n)}}}function mh(e){this._internalRoot=e}function yh(e){this._internalRoot=e}yh.prototype.render=mh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hd(t.current,Pc(),e,t,null,null)},yh.prototype.unmount=mh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),Hd(e.current,2,null,e,null,null),Dc(),t[He]=null}},yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=qe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oh.length&&0!==t&&t<oh[n].priority;n++);oh.splice(n,0,e),0===n&&lh(e)}};var vh=o.version;if("19.0.0"!==vh)throw Error(a(527,vh,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=U(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return F(o),e;if(i===r)return F(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?H(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Qe,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{ye=wh.inject(bh),ve=wh}catch(kh){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=La,i=qa,l=Ua;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Dd(e,1,!1,null,0,n,r,o,i,l,0,null),e[He]=t.current,Nu(8===e.nodeType?e.parentNode:e),new mh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=La,l=qa,c=Ua,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Dd(e,1,!0,t,0,r,o,i,l,c,0,u)).context=Fd(null),n=t.current,(o=Os(r=Pc())).callback=null,Ns(n,o,r),t.current.lanes=r,Ne(t,r),gu(t),e[He]=t.current,Nu(e),new yh(t)},t.version="19.0.0"},672:(e,t,n)=>{var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},799:(e,t)=>{var n=Symbol.for("react.transitional.element");function r(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function T(e,t,r,o,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(){}function R(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+A(e,0):i,C(a)?(o="",null!=u&&(o=u.replace(E,"$&/")+"/"),R(a,t,o,"",(function(e){return e}))):null!=a&&(I(a)&&(l=a,c=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+u,a=T(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===i?".":i+":";if(C(e))for(var g=0;g<e.length;g++)u+=R(i=e[g],t,o,s=p+A(i,g),a);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(i=e.next()).done;)u+=R(i=i.value,t,o,s=p+A(i,g++),a);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],o=0;return R(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function x(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return T(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return T(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),o=k.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,N)}catch(i){N(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},579:(e,t,n)=>{e.exports=n(799)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function C(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,O();else{var t=r(u);null!==t&&N(C,t.startTime-e)}}var k,S=!1,T=-1,I=5,E=-1;function A(){return!(t.unstable_now()-E<I)}function _(){if(S){var e=t.unstable_now();E=e;var n=!0;try{e:{g=!1,m&&(m=!1,v(T),T=-1),p=!0;var i=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&A());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&o(c),w(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(C,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof b)k=function(){b(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=_,k=function(){P.postMessage(null)}}else k=function(){y(_,0)};function O(){S||(S=!0,k())}function N(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,O())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(v(T),T=-1):m=!0,N(C,i-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,O())),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(896)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Zh,hasStandardBrowserEnv:()=>tf,hasStandardBrowserWebWorkerEnv:()=>nf,navigator:()=>ef,origin:()=>rf});var o=n(43),i=n(391),a=(n(358),"popstate");function s(){return p((function(e,t){let{pathname:n="/",search:r="",hash:o=""}=f(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),d("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:h(t))}),(function(e,t){c("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?f(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,c="POP",f=null,p=g();function g(){return(s.state||{idx:null}).idx}function m(){c="POP";let e=g(),t=null==e?null:e-p;p=e,f&&f({action:c,location:v.location,delta:t})}function y(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),l(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,s.replaceState({...s.state,idx:p},""));let v={get action(){return c},get location(){return e(o,s)},listen(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(a,m),f=e,()=>{o.removeEventListener(a,m),f=null}},createHref:e=>t(o,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=d(v.location,e,t);n&&n(r,e),p=g()+1;let a=u(r,p),l=v.createHref(r);try{s.pushState(a,"",l)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;o.location.assign(l)}i&&f&&f({action:c,location:v.location,delta:1})},replace:function(e,t){c="REPLACE";let r=d(v.location,e,t);n&&n(r,e),p=g();let o=u(r,p),a=v.createHref(r);s.replaceState(o,"",a),i&&f&&f({action:c,location:v.location,delta:0})},go:e=>s.go(e)};return v}function g(e,t){return m(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function m(e,t,n,r){let o=P(("string"===typeof t?f(t):t).pathname||"/",n);if(null==o)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=R(o);a=A(i[s],e,r)}return a}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let s=L([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${s}".`),y(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:E(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of v(e.path))o(e,t,n);else o(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=v(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var b=/^:[\w-]+$/,w=3,C=2,k=1,S=10,T=-2,I=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=T),t&&(r+=C),n.filter((e=>!I(e))).reduce(((e,t)=>e+(b.test(t)?w:""===t?k:S)),r)}function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:L([i,u.pathname]),pathnameBase:q(L([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=L([i,u.pathnameBase]))}return a}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];c("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function x(e){let t=N(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function M(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=f(e):(r={...e},l(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let i,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(null==s)i=n;else{let e=t.length-1;if(!o&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?f(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:U(r),hash:D(o)}}(r,i),u=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var L=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var H=["POST","PUT","PATCH","DELETE"],z=(new Set(H),["GET",...H]);new Set(z),Symbol("ResetLoaderData");var B=o.createContext(null);B.displayName="DataRouter";var j=o.createContext(null);j.displayName="DataRouterState";var $=o.createContext({isTransitioning:!1});$.displayName="ViewTransition";var K=o.createContext(new Map);K.displayName="Fetchers";var W=o.createContext(null);W.displayName="Await";var Q=o.createContext(null);Q.displayName="Navigation";var V=o.createContext(null);V.displayName="Location";var G=o.createContext({outlet:null,matches:[],isDataRoute:!1});G.displayName="Route";var Y=o.createContext(null);Y.displayName="RouteError";function J(){return null!=o.useContext(V)}function X(){return l(J(),"useLocation() may be used only in the context of a <Router> component."),o.useContext(V).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(e){o.useContext(Q).static||o.useLayoutEffect(e)}function te(){let{isDataRoute:e}=o.useContext(G);return e?function(){let{router:e}=ue("useNavigate"),t=he("useNavigate"),n=o.useRef(!1);ee((()=>{n.current=!0}));let r=o.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(n.current,Z),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))}),[e,t]);return r}():function(){l(J(),"useNavigate() may be used only in the context of a <Router> component.");let e=o.useContext(B),{basename:t,navigator:n}=o.useContext(Q),{matches:r}=o.useContext(G),{pathname:i}=X(),a=JSON.stringify(x(r)),s=o.useRef(!1);ee((()=>{s.current=!0}));let u=o.useCallback((function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c(s.current,Z),!s.current)return;if("number"===typeof r)return void n.go(r);let l=M(r,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:L([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)}),[t,n,a,i,e]);return u}()}o.createContext(null);function ne(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=o.useContext(G),{pathname:r}=X(),i=JSON.stringify(x(n));return o.useMemo((()=>M(e,JSON.parse(i),r,"path"===t)),[e,i,r,t])}function re(e,t,n,r){l(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=o.useContext(Q),{matches:s}=o.useContext(G),u=s[s.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let e=m&&m.path||"";ge(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let y,v=X();if(t){let e="string"===typeof t?f(t):t;l("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),y=e}else y=v;let b=y.pathname||"/",w=b;if("/"!==p){let e=p.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let C=!a&&n&&n.matches&&n.matches.length>0?n.matches:g(e,{pathname:w});c(m||null!=C,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),c(null==C||void 0!==C[C.length-1].route.element||void 0!==C[C.length-1].route.Component||void 0!==C[C.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=le(C&&C.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:L([p,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:L([p,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&k?o.createElement(V.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function oe(){let e=fe(),t=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=o.createElement(o.Fragment,null,o.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),o.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",o.createElement("code",{style:a},"ErrorBoundary")," or"," ",o.createElement("code",{style:a},"errorElement")," prop on your route.")),o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:i},n):null,s)}var ie=o.createElement(oe,null),ae=class extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(G.Provider,{value:this.props.routeContext},o.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function se(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(B);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(G.Provider,{value:t},r)}function le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,i=n?.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&void 0!==i?.[e.route.id]));l(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,s=-1;if(n)for(let o=0;o<r.length;o++){let e=r[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=o),e.route.id){let{loaderData:t,errors:o}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!o||void 0===o[e.route.id]);if(e.route.lazy||i){a=!0,r=s>=0?r.slice(0,s+1):[r[0]];break}}}return r.reduceRight(((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||ie,a&&(s<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):s===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,c+1)),g=()=>{let t;return t=u?h:d?f:l.route.Component?o.createElement(l.route.Component,null):l.route.element?l.route.element:e,o.createElement(se,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?o.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(e){let t=o.useContext(B);return l(t,ce(e)),t}function de(e){let t=o.useContext(j);return l(t,ce(e)),t}function he(e){let t=function(e){let t=o.useContext(G);return l(t,ce(e)),t}(e),n=t.matches[t.matches.length-1];return l(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function fe(){let e=o.useContext(Y),t=de("useRouteError"),n=he("useRouteError");return void 0!==e?e:t.errors?.[n]}var pe={};function ge(e,t,n){t||pe[e]||(pe[e]=!0,c(!1,n))}o.memo((function(e){let{routes:t,future:n,state:r}=e;return re(t,void 0,r,n)}));function me(e){let{to:t,replace:n,state:r,relative:i}=e;l(J(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=o.useContext(Q);c(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=o.useContext(G),{pathname:u}=X(),d=te(),h=M(t,x(s),u,"path"===i),f=JSON.stringify(h);return o.useEffect((()=>{d(JSON.parse(f),{replace:n,state:r,relative:i})}),[d,f,i,n,r]),null}function ye(e){l(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ve(e){let{basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:a,static:s=!1}=e;l(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=o.useMemo((()=>({basename:u,navigator:a,static:s,future:{}})),[u,a,s]);"string"===typeof r&&(r=f(r));let{pathname:h="/",search:p="",hash:g="",state:m=null,key:y="default"}=r,v=o.useMemo((()=>{let e=P(h,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:y},navigationType:i}}),[u,h,p,g,m,y,i]);return c(null!=v,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:o.createElement(Q.Provider,{value:d},o.createElement(V.Provider,{children:n,value:v}))}function be(e){let{children:t,location:n}=e;return re(we(t),n)}o.Component;function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;let i=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,we(e.props.children,i));l(e.type===ye,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),l(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,i)),n.push(a)})),n}var Ce="get",ke="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}var Te=null;var Ie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ee(e){return null==e||Ie.has(e)?e:(c(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ke}"`),null)}function Ae(e,t){let n,r,o,i,a;if(Se(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?P(a,t):null,n=e.getAttribute("method")||Ce,o=Ee(e.getAttribute("enctype"))||ke,i=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?P(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ce,o=Ee(e.getAttribute("formenctype"))||Ee(a.getAttribute("enctype"))||ke,i=new FormData(a,e),!function(){if(null===Te)try{new FormData(document.createElement("form"),0),Te=!1}catch(e){Te=!0}return Te}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ce,r=null,o=ke,a=e}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}function _e(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Re(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Pe(e){return null!=e&&"string"===typeof e.page}function Oe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ne(e,t,n,r,o,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function xe(e){return[...new Set(e)]}function Me(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,o)=>{if(t&&!Pe(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e}),[])}function Le(e){return{__html:e}}Symbol("SingleFetchRedirect");function qe(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}o.Component;function Ue(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,i=o.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(F(t))return o.createElement(De,{title:"Unhandled Thrown Response!"},o.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return o.createElement(De,{title:"Application Error!",isOutsideRemixApp:n},o.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),o.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function De(e){let{title:t,renderScripts:n,isOutsideRemixApp:r,children:i}=e,{routeModules:a}=je();return a.root?.Layout&&!r?i:o.createElement("html",{lang:"en"},o.createElement("head",null,o.createElement("meta",{charSet:"utf-8"}),o.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),o.createElement("title",null,t)),o.createElement("body",null,o.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?o.createElement(Ye,null):null)))}function Fe(e){return!e}function He(){let e=o.useContext(B);return _e(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ze(){let e=o.useContext(j);return _e(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Be=o.createContext(void 0);function je(){let e=o.useContext(Be);return _e(e,"You must render this element inside a <HydratedRouter> element"),e}function $e(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ke(e,t,n){if(n&&!Ge)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function We(e){let{page:t,...n}=e,{router:r}=He(),i=o.useMemo((()=>g(r.routes,t,r.basename)),[r.routes,t,r.basename]);return i?o.createElement(Ve,{page:t,matches:i,...n}):null}function Qe(e){let{manifest:t,routeModules:n}=je(),[r,i]=o.useState([]);return o.useEffect((()=>{let r=!1;return async function(e,t,n){return Me((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Re(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Oe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),r}function Ve(e){let{page:t,matches:n,...r}=e,i=X(),{manifest:a,routeModules:s}=je(),{loaderData:l,matches:c}=ze(),u=o.useMemo((()=>Ne(t,n,c,a,i,"data")),[t,n,c,a,i]),d=o.useMemo((()=>Ne(t,n,c,a,i,"assets")),[t,n,c,a,i]),h=o.useMemo((()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=a.routes[t.route.id];n&&n.hasLoader&&(!u.some((e=>e.route.id===t.route.id))&&t.route.id in l&&s[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let o=qe(t);return r&&e.size>0&&o.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[o.pathname+o.search]}),[l,i,a,u,n,t,s]),f=o.useMemo((()=>function(e,t){return xe(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(d,a)),[d,a]),p=Qe(d);return o.createElement(o.Fragment,null,h.map((e=>o.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...r}))),f.map((e=>o.createElement("link",{key:e,rel:"modulepreload",href:e,...r}))),p.map((e=>{let{key:t,link:n}=e;return o.createElement("link",{key:t,...n})})))}Be.displayName="FrameworkContext";var Ge=!1;function Ye(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:i}=je(),{router:a,static:s,staticContext:l}=He(),{matches:c}=ze(),u=Fe(r);i&&(i.didRenderScripts=!0);let d=Ke(c,null,r);o.useEffect((()=>{Ge=!0}),[]);let h=o.useMemo((()=>{let r=l?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=s?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${u?"":`import ${JSON.stringify(t.url)}`};\n${d.map(((e,n)=>`import * as route${n} from ${JSON.stringify(t.routes[e.route.id].module)};`)).join("\n")}\n  ${u?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(r.pop();r.length>0;)o.push(`/${r.join("/")}`),r.pop();o.forEach((e=>{let r=g(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let i=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:i}}(t,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return o.createElement(o.Fragment,null,o.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Le(r),type:void 0}),o.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Le(i),type:"module",async:!0}))}),[]),f=d.map((e=>{let n=t.routes[e.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),p=Ge?[]:t.entry.imports.concat(f);return Ge?null:o.createElement(o.Fragment,null,u?null:o.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),o.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(m=p,[...new Set(m)]).map((t=>o.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),h);var m}function Je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Xe&&(window.__reactRouterVersion="7.1.5")}catch(pp){}function Ze(e){let{basename:t,children:n,window:r}=e,i=o.useRef();null==i.current&&(i.current=s({window:r,v5Compat:!0}));let a=i.current,[l,c]=o.useState({action:a.action,location:a.location}),u=o.useCallback((e=>{o.startTransition((()=>c(e)))}),[c]);return o.useLayoutEffect((()=>a.listen(u)),[a,u]),o.createElement(ve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}var et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=o.forwardRef((function(e,t){let n,{onClick:r,discover:i="render",prefetch:a="none",relative:s,reloadDocument:u,replace:d,state:f,target:p,to:g,preventScrollReset:m,viewTransition:y,...v}=e,{basename:b}=o.useContext(Q),w="string"===typeof g&&et.test(g),C=!1;if("string"===typeof g&&w&&(n=g,Xe))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=P(t.pathname,b);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:C=!0}catch(pp){c(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=o.useContext(Q),{hash:i,pathname:a,search:s}=ne(e,{relative:t}),c=a;return"/"!==n&&(c="/"===a?n:L([n,a])),r.createHref({pathname:c,search:s,hash:i})}(g,{relative:s}),[S,T,I]=function(e,t){let n=o.useContext(Be),[r,i]=o.useState(!1),[a,s]=o.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=o.useRef(null);o.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),o.useEffect((()=>{if(r){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:$e(l,p),onBlur:$e(c,g),onMouseEnter:$e(u,p),onMouseLeave:$e(d,g),onTouchStart:$e(h,p)}]:[!1,f,{}]}(a,v),E=function(e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=te(),c=X(),u=ne(e,{relative:a});return o.useCallback((o=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(o,t)){o.preventDefault();let t=void 0!==n?n:h(c)===h(u);l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:s})}}),[c,l,u,n,r,t,e,i,a,s])}(g,{replace:d,state:f,target:p,preventScrollReset:m,relative:s,viewTransition:y});let A=o.createElement("a",{...v,...I,href:n||k,onClick:C||u?r:function(e){r&&r(e),e.defaultPrevented||E(e)},ref:Je(t,T),target:p,"data-discover":w||"render"!==i?void 0:"true"});return S&&!w?o.createElement(o.Fragment,null,A,o.createElement(We,{page:k})):A}));tt.displayName="Link",o.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:s,to:c,viewTransition:u,children:d,...h}=e,f=ne(c,{relative:h.relative}),p=X(),g=o.useContext(j),{navigator:m,basename:y}=o.useContext(Q),v=null!=g&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.useContext($);l(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ot("useViewTransitionState"),i=ne(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=P(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=P(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=_(i.pathname,s)||null!=_(i.pathname,a)}(f)&&!0===u,b=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(w=w.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&y&&(C=P(C,y)||C);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,T=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(k),I=null!=C&&(C===b||!a&&C.startsWith(b)&&"/"===C.charAt(b.length)),E={isActive:T,isPending:I,isTransitioning:v},A=T?n:void 0;S="function"===typeof i?i(E):[i,T?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof s?s(E):s;return o.createElement(tt,{...h,"aria-current":A,className:S,ref:t,style:R,to:c,viewTransition:u},"function"===typeof d?d(E):d)})).displayName="NavLink";var nt=o.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:i,reloadDocument:a,replace:s,state:c,method:u=Ce,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:m,...y}=e,v=st(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=o.useContext(Q),r=o.useContext(G);l(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ne(e||".",{relative:t})},s=X();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:L([n,a.pathname]));return h(a)}(d,{relative:p}),w="get"===u.toLowerCase()?"get":"post",C="string"===typeof d&&et.test(d);return o.createElement("form",{ref:t,method:w,action:b,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;v(t||e.currentTarget,{fetcherKey:r,method:n,navigate:i,replace:s,state:c,relative:p,preventScrollReset:g,viewTransition:m})},...y,"data-discover":C||"render"!==n?void 0:"true"})}));function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ot(e){let t=o.useContext(B);return l(t,rt(e)),t}nt.displayName="Form";var it=0,at=()=>`__${String(++it)}__`;function st(){let{router:e}=ot("useSubmit"),{basename:t}=o.useContext(Q),n=he("useRouteId");return o.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:s,formData:l,body:c}=Ae(r,t);if(!1===o.navigate){let t=o.fetcherKey||at();await e.fetch(t,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,t,n])}new TextEncoder;const lt={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},ct=400,ut=499,dt=500,ht=599,ft=[lt.OPENID_SCOPE,lt.PROFILE_SCOPE,lt.OFFLINE_ACCESS_SCOPE],pt=[...ft,lt.EMAIL_SCOPE],gt="Content-Type",mt="Content-Length",yt="Retry-After",vt="X-AnchorMailbox",bt="x-ms-request-id",wt="x-ms-httpver",Ct="active-account-filters",kt="common",St="organizations",Tt="consumers",It="access_token",Et="xms_cc",At={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},_t={PLAIN:"plain",S256:"S256"},Rt={QUERY:"query",FRAGMENT:"fragment"},Pt={...Rt,FORM_POST:"form_post"},Ot="authorization_code",Nt="refresh_token",xt="MSSTS",Mt="ADFS",Lt="Generic",qt="-",Ut=".",Dt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Ft="appmetadata",Ht="1",zt="authority-metadata",Bt=86400,jt="config",$t="cache",Kt="network",Wt="hardcoded_values",Qt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Vt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Gt=60,Yt=3600,Jt="throttling",Xt="retry-after, h429",Zt="invalid_grant",en="client_mismatch",tn="username",nn="password",rn=200,on=400,an="1",sn="3",ln="4",cn="2",un="4",dn="5",hn="0",fn="1",pn="2",gn="3",mn="4",yn="pop";var vn;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(vn||(vn={}));class bn{constructor(e,t,n){this.level=vn.Info;const r=e||bn.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:vn.Info,this.correlationId=r.correlationId||lt.EMPTY_STRING,this.packageName=t||lt.EMPTY_STRING,this.packageVersion=n||lt.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:vn.Info}}clone(e,t,n){return new bn({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${vn[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:vn.Error,containsPii:!1,correlationId:t||lt.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:vn.Error,containsPii:!0,correlationId:t||lt.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:vn.Warning,containsPii:!1,correlationId:t||lt.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:vn.Warning,containsPii:!0,correlationId:t||lt.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:vn.Info,containsPii:!1,correlationId:t||lt.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:vn.Info,containsPii:!0,correlationId:t||lt.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:vn.Verbose,containsPii:!1,correlationId:t||lt.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:vn.Verbose,containsPii:!0,correlationId:t||lt.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:vn.Trace,containsPii:!1,correlationId:t||lt.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:vn.Trace,containsPii:!0,correlationId:t||lt.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const wn="AAD",Cn="OIDC",kn="none",Sn="unexpected_error",Tn="post_request_failed",In={[Sn]:"Unexpected error in authentication.",[Tn]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class En extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,En.prototype),this.errorCode=e||lt.EMPTY_STRING,this.errorMessage=t||lt.EMPTY_STRING,this.subError=n||lt.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function An(e,t){return new En(e,t?`${In[e]} ${t}`:In[e])}const _n="client_info_decoding_error",Rn="client_info_empty_error",Pn="token_parsing_error",On="null_or_empty_token",Nn="endpoints_resolution_error",xn="network_error",Mn="openid_config_error",Ln="hash_not_deserialized",qn="invalid_state",Un="state_mismatch",Dn="state_not_found",Fn="nonce_mismatch",Hn="auth_time_not_found",zn="max_age_transpired",Bn="multiple_matching_tokens",jn="multiple_matching_accounts",$n="multiple_matching_appMetadata",Kn="request_cannot_be_made",Wn="cannot_remove_empty_scope",Qn="cannot_append_scopeset",Vn="empty_input_scopeset",Gn="device_code_polling_cancelled",Yn="device_code_expired",Jn="device_code_unknown_error",Xn="no_account_in_silent_request",Zn="invalid_cache_record",er="invalid_cache_environment",tr="no_account_found",nr="no_crypto_object",rr="unexpected_credential_type",or="invalid_assertion",ir="invalid_client_credential",ar="token_refresh_required",sr="user_timeout_reached",lr="token_claims_cnf_required_for_signedjwt",cr="authorization_code_missing_from_server_response",ur="binding_key_not_removed",dr="end_session_endpoint_not_supported",hr="key_id_missing",fr="no_network_connectivity",pr="user_canceled",gr="missing_tenant_id_error",mr="method_not_implemented",yr="nested_app_auth_bridge_disabled",vr={[_n]:"The client info could not be parsed/decoded correctly",[Rn]:"The client info was empty",[Pn]:"Token cannot be parsed",[On]:"The token is null or empty",[Nn]:"Endpoints cannot be resolved",[xn]:"Network request failed",[Mn]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Ln]:"The hash parameters could not be deserialized",[qn]:"State was not the expected format",[Un]:"State mismatch error",[Dn]:"State not found",[Fn]:"Nonce mismatch error",[Hn]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[zn]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Bn]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[jn]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[$n]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Kn]:"Token request cannot be made without authorization code or refresh token.",[Wn]:"Cannot remove null or empty scope from ScopeSet",[Qn]:"Cannot append ScopeSet",[Vn]:"Empty input ScopeSet cannot be processed",[Gn]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Yn]:"Device code is expired.",[Jn]:"Device code stopped polling for unknown reasons.",[Xn]:"Please pass an account object, silent flow is not supported without account information",[Zn]:"Cache record object was null or undefined.",[er]:"Invalid environment when attempting to create cache entry",[tr]:"No account found in cache for given key.",[nr]:"No crypto object detected.",[rr]:"Unexpected credential type.",[or]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[ir]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[ar]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[sr]:"User defined timeout for device code polling reached",[lr]:"Cannot generate a POP jwt if the token_claims are not populated",[cr]:"Server response does not contain an authorization code to proceed",[ur]:"Could not remove the credential's binding key from storage.",[dr]:"The provided authority does not support logout",[hr]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[fr]:"No network connectivity. Check your internet connection.",[pr]:"User cancelled the flow.",[gr]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[mr]:"This method has not been implemented",[yr]:"The nested app auth bridge is disabled"};class br extends En{constructor(e,t){super(e,t?`${vr[e]}: ${t}`:vr[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,br.prototype)}}function wr(e,t){return new br(e,t)}const Cr={createNewGuid:()=>{throw wr(mr)},base64Decode:()=>{throw wr(mr)},base64Encode:()=>{throw wr(mr)},base64UrlEncode:()=>{throw wr(mr)},encodeKid:()=>{throw wr(mr)},async getPublicKeyThumbprint(){throw wr(mr)},async removeTokenBindingKey(){throw wr(mr)},async clearKeystore(){throw wr(mr)},async signJwt(){throw wr(mr)},async hashString(){throw wr(mr)}},kr="@azure/msal-common",Sr="15.1.1";function Tr(e,t){const n=function(e){if(!e)throw wr(On);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw wr(Pn);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw wr(Pn)}}function Ir(e,t){if(0===t||Date.now()-3e5>e+t)throw wr(zn)}function Er(){return Math.round((new Date).getTime()/1e3)}function Ar(e,t){const n=Number(e)||0;return Er()+t>n}function _r(e){return[xr(e),Mr(e),Lr(e),qr(e),Ur(e)].join(qt).toLowerCase()}function Rr(e,t,n,r,o){return{credentialType:Dt.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function Pr(e,t,n,r,o,i,a,s,l,c,u,d,h,f,p){const g={homeAccountId:e,credentialType:Dt.ACCESS_TOKEN,secret:n,cachedAt:Er().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:i,tokenType:u||Vt.BEARER};if(d&&(g.userAssertionHash=d),c&&(g.refreshOn=c.toString()),f&&(g.requestedClaims=f,g.requestedClaimsHash=p),g.tokenType?.toLowerCase()!==Vt.BEARER.toLowerCase())switch(g.credentialType=Dt.ACCESS_TOKEN_WITH_AUTH_SCHEME,g.tokenType){case Vt.POP:const e=Tr(n,l);if(!e?.cnf?.kid)throw wr(lr);g.keyId=e.cnf.kid;break;case Vt.SSH:g.keyId=h}return g}function Or(e,t,n,r,o,i,a){const s={credentialType:Dt.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(s.userAssertionHash=i),o&&(s.familyId=o),a&&(s.expiresOn=a.toString()),s}function Nr(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function xr(e){return[e.homeAccountId,e.environment].join(qt).toLowerCase()}function Mr(e){const t=e.credentialType===Dt.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(qt).toLowerCase()}function Lr(e){return(e.target||"").toLowerCase()}function qr(e){return(e.requestedClaimsHash||"").toLowerCase()}function Ur(e){return e.tokenType&&e.tokenType.toLowerCase()!==Vt.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function Dr(){return Er()+Bt}function Fr(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Hr(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function zr(e){return e.expiresAt<=Er()}const Br="redirect_uri_empty",jr="claims_request_parsing_error",$r="authority_uri_insecure",Kr="url_parse_error",Wr="empty_url_error",Qr="empty_input_scopes_error",Vr="invalid_prompt_value",Gr="invalid_claims",Yr="token_request_empty",Jr="logout_request_empty",Xr="invalid_code_challenge_method",Zr="pkce_params_missing",eo="invalid_cloud_discovery_metadata",to="invalid_authority_metadata",no="untrusted_authority",ro="missing_ssh_jwk",oo="missing_ssh_kid",io="missing_nonce_authentication_header",ao="invalid_authentication_header",so="cannot_set_OIDCOptions",lo="cannot_allow_platform_broker",co="authority_mismatch",uo={[Br]:"A redirect URI is required for all calls, and none has been set.",[jr]:"Could not parse the given claims request object.",[$r]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Kr]:"URL could not be parsed into appropriate segments.",[Wr]:"URL was empty or null.",[Qr]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Vr]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Gr]:"Given claims parameter must be a stringified JSON object.",[Yr]:"Token request was empty and not found in cache.",[Jr]:"The logout request was null or undefined.",[Xr]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Zr]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[eo]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[to]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[no]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[ro]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[oo]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[io]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[ao]:"Invalid authentication header provided",[so]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[lo]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[co]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class ho extends En{constructor(e){super(e,uo[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,ho.prototype)}}function fo(e){return new ho(e)}class po{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(pp){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(pp){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class go{constructor(e){const t=e?po.trimArrayEntries([...e]):[],n=t?po.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw fo(Qr);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||lt.EMPTY_STRING).split(" ");return new go(t)}static createSearchScopes(e){const t=new go(e);return t.containsOnlyOIDCScopes()?t.removeScope(lt.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new go(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return pt.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(pp){throw wr(Qn)}}removeScope(e){if(!e)throw wr(Wn);this.scopes.delete(e.trim())}removeOIDCScopes(){pt.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw wr(Vn);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw wr(Vn);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return lt.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function mo(e,t){if(!e)throw wr(Rn);try{const n=t(e);return JSON.parse(n)}catch(pp){throw wr(_n)}}function yo(e){if(!e)throw wr(_n);const t=e.split(Ut,2);return{uid:t[0],utid:t.length<2?lt.EMPTY_STRING:t[1]}}function vo(e,t){return!!e&&!!t&&e===t.split(".")[1]}function bo(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:i,tfp:a,acr:s}=r,l=o||a||s||"";return{tenantId:l,localAccountId:t||n||"",name:i,isHomeTenant:vo(l,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:vo(n,e)}}function wo(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...i}=bo(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...i,idTokenClaims:n,idToken:r},o}return o}const Co=0,ko=1,So=2,To=3;function Io(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class Eo{generateAccountId(){return[this.homeAccountId,this.environment].join(qt).toLowerCase()}generateAccountKey(){return Eo.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(qt).toLowerCase()}static createAccount(e,t,n){const r=new Eo;let o;t.authorityType===ko?r.authorityType=Mt:t.protocolMode===wn?r.authorityType=xt:r.authorityType=Lt,e.clientInfo&&n&&(o=mo(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const i=e.environment||t&&t.getPreferredCache();if(!i)throw wr(er);r.environment=i,r.realm=o?.utid||Io(e.idTokenClaims)||"",r.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,s=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=a||s||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=bo(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new Eo;return r.authorityType=e.authorityType||Lt,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==ko&&t!==So){if(e)try{const t=mo(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(pp){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function Ao(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function _o(e){if(!e||e.indexOf("=")<0)return null;try{const t=Ao(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(pp){throw wr(Ln)}return null}class Ro{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw fo(Wr);e.includes("#")||(this._urlString=Ro.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return po.endsWith(t,"?")?t=t.slice(0,-1):po.endsWith(t,"?/")&&(t=t.slice(0,-2)),po.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(pp){throw fo(Kr)}if(!e.HostNameAndPort||!e.PathSegments)throw fo(Kr);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw fo($r)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Ro.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==kt&&n[0]!==St||(n[0]=e),Ro.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw fo(Kr);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw fo(Kr);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===lt.FORWARD_SLASH){const n=new Ro(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Ro(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!_o(e)}}const Po={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Oo={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},No=new Set;function xo(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=Mo(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function Mo(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}Oo.metadata.forEach((e=>{e.aliases.forEach((e=>{No.add(e)}))}));const Lo="cache_quota_exceeded",qo="cache_error_unknown",Uo={[Lo]:"Exceeded cache storage capacity.",[qo]:"Unexpected error occurred when using cache storage."};class Do extends Error{constructor(e,t){const n=t||(Uo[e]?Uo[e]:Uo[qo]);super(`${e}: ${n}`),Object.setPrototypeOf(this,Do.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class Fo{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(kr,Sr),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,i=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const a=this.getIdToken(e,t,n.tenantId);return a&&(o=Tr(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(i=wo(e,n,o,a?.secret),i)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const i=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const a=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,i,e,n);t&&a.push(t)})),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw wr(Zn);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==n?.idToken&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==n?.accessToken&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==n?.refreshToken&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(pp){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),pp instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${pp.message}`,t),"QuotaExceededError"===pp.name||"NS_ERROR_DOM_QUOTA_REACHED"===pp.name||pp.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new Do(Lo)):new Do(pp.name,pp.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${pp}`,t),new Do(qo))}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),o=go.fromString(e.target),i=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){go.fromString(t.target).intersectingScopeSets(o)&&i.push(this.removeAccessToken(e))}})),await Promise.all(i),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},i=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));i&&0===i.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(qt).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(qt).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(Dt.ID_TOKEN.toLowerCase())&&-1===t.indexOf(Dt.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(Dt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(Dt.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(Dt.REFRESH_TOKEN.toLowerCase())>-1){const e=`${Dt.REFRESH_TOKEN}${qt}${this.clientId}${qt}`,n=`${Dt.REFRESH_TOKEN}${qt}${Ht}${qt}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===Dt.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===Vt.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===Dt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===Vt.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw wr(ur)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=Eo.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Dt.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(i,t),s=a.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let t=a;if(!n){const n=new Map;a.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,i){this.commonLogger.trace("CacheManager - getAccessToken called");const a=go.createSearchScopes(t.scopes),s=t.authenticationScheme||Vt.BEARER,l=s&&s.toLowerCase()!==Vt.BEARER.toLowerCase()?Dt.ACCESS_TOKEN_WITH_AUTH_SCHEME:Dt.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:r||e.tenantId,target:a,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,c)&&d.push(t)}}));const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken(_r(e))})),o&&i&&o.addFields({multiMatchedAT:d.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?Ht:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Dt.REFRESH_TOKEN,clientId:this.clientId,familyId:i},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,l=[];s.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,a)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,a)&&l.push(t)}}));const c=l.length;return c<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(c>1&&r&&o&&r.addFields({multiMatchedRT:c},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw wr($n);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==Ht)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const o=new Ro(r).getUrlComponents().HostNameAndPort;n=xo(o,e.cloudDiscoveryMetadata?.metadata,jt,t)||xo(o,Oo.metadata,Wt,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==Dt.ACCESS_TOKEN&&e.credentialType!==Dt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return go.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(Ft)}isAuthorityMetadata(e){return-1!==e.indexOf(zt)}generateAuthorityMetadataCacheKey(e){return`${zt}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class Ho extends Fo{async setAccount(){throw wr(mr)}getAccount(){throw wr(mr)}async setIdTokenCredential(){throw wr(mr)}getIdTokenCredential(){throw wr(mr)}async setAccessTokenCredential(){throw wr(mr)}getAccessTokenCredential(){throw wr(mr)}async setRefreshTokenCredential(){throw wr(mr)}getRefreshTokenCredential(){throw wr(mr)}setAppMetadata(){throw wr(mr)}getAppMetadata(){throw wr(mr)}setServerTelemetry(){throw wr(mr)}getServerTelemetry(){throw wr(mr)}setAuthorityMetadata(){throw wr(mr)}getAuthorityMetadata(){throw wr(mr)}getAuthorityMetadataKeys(){throw wr(mr)}setThrottlingCache(){throw wr(mr)}getThrottlingCache(){throw wr(mr)}removeItem(){throw wr(mr)}getKeys(){throw wr(mr)}getAccountKeys(){throw wr(mr)}getTokenKeys(){throw wr(mr)}}const zo={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Bo={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:vn.Info,correlationId:lt.EMPTY_STRING},jo={claimsBasedCachingEnabled:!1},$o={async sendGetRequestAsync(){throw wr(mr)},async sendPostRequestAsync(){throw wr(mr)}},Ko={sku:lt.SKU,version:Sr,cpu:lt.EMPTY_STRING,os:lt.EMPTY_STRING},Wo={clientSecret:lt.EMPTY_STRING,clientAssertion:void 0},Qo={azureCloudInstance:kn,tenant:`${lt.DEFAULT_COMMON_TENANT}`},Vo={application:{appName:"",appVersion:""}};function Go(e){return e.authOptions.authority.options.protocolMode===Cn}const Yo={sendGetRequestAsync:()=>Promise.reject(wr(mr)),sendPostRequestAsync:()=>Promise.reject(wr(mr))},Jo="acquireTokenByCode",Xo="acquireTokenByRefreshToken",Zo="acquireTokenSilent",ei="acquireTokenSilentAsync",ti="acquireTokenPopup",ni="acquireTokenPreRedirect",ri="acquireTokenRedirect",oi="cryptoOptsGetPublicKeyThumbprint",ii="cryptoOptsSignJwt",ai="silentCacheClientAcquireToken",si="silentIframeClientAcquireToken",li="awaitConcurrentIframe",ci="silentRefreshClientAcquireToken",ui="ssoSilent",di="standardInteractionClientGetDiscoveredAuthority",hi="fetchAccountIdWithNativeBroker",fi="nativeInteractionClientAcquireToken",pi="networkClientSendPostRequestAsync",gi="refreshTokenClientExecutePostToTokenEndpoint",mi="authorizationCodeClientExecutePostToTokenEndpoint",yi="refreshTokenClientExecuteTokenRequest",vi="refreshTokenClientAcquireToken",bi="refreshTokenClientAcquireTokenWithCachedRefreshToken",wi="refreshTokenClientAcquireTokenByRefreshToken",Ci="refreshTokenClientCreateTokenRequestBody",ki="acquireTokenFromCache",Si="silentFlowClientAcquireCachedToken",Ti="silentFlowClientGenerateResultFromCacheRecord",Ii="acquireTokenBySilentIframe",Ei="initializeBaseRequest",Ai="initializeSilentRequest",_i="initializeClientApplication",Ri="initializeCache",Pi="silentIframeClientTokenHelper",Oi="silentHandlerInitiateAuthRequest",Ni="silentHandlerMonitorIframeForHash",xi="silentHandlerLoadFrame",Mi="silentHandlerLoadFrameSync",Li="standardInteractionClientCreateAuthCodeClient",qi="standardInteractionClientGetClientConfiguration",Ui="standardInteractionClientInitializeAuthorizationRequest",Di="standardInteractionClientInitializeAuthorizationCodeRequest",Fi="getAuthCodeUrl",Hi="handleCodeResponseFromServer",zi="handleCodeResponse",Bi="updateTokenEndpointAuthority",ji="authClientAcquireToken",$i="authClientExecuteTokenRequest",Ki="authClientCreateTokenRequestBody",Wi="authClientCreateQueryString",Qi="popTokenGenerateCnf",Vi="popTokenGenerateKid",Gi="handleServerTokenResponse",Yi="deserializeResponse",Ji="authorityFactoryCreateDiscoveredInstance",Xi="authorityResolveEndpointsAsync",Zi="authorityGetCloudDiscoveryMetadataFromNetwork",ea="authorityUpdateCloudDiscoveryMetadata",ta="authorityGetEndpointMetadataFromNetwork",na="authorityUpdateEndpointMetadata",ra="authorityUpdateMetadataWithRegionalInformation",oa="regionDiscoveryDetectRegion",ia="regionDiscoveryGetRegionFromIMDS",aa="regionDiscoveryGetCurrentVersion",sa="acquireTokenByCodeAsync",la="handleRedirectPromise",ca="handleNativeRedirectPromise",ua="nativeMessageHandlerHandshake",da="removeHiddenIframe",ha="clearTokensAndKeysWithClaims",fa="cacheManagerGetRefreshToken",pa="importExistingCache",ga="setUserData",ma="localStorageUpdated",ya="generatePkceCodes",va="generateCodeVerifier",ba="generateCodeChallengeFromVerifier",wa="sha256Digest",Ca="getRandomValues",ka="generateHKDF",Sa="generateBaseKey",Ta="base64Decode",Ia="urlEncodeArr",Ea="encrypt",Aa="decrypt",_a=(new Map([[Jo,"ATByCode"],[Xo,"ATByRT"],[Zo,"ATS"],[ei,"ATSAsync"],[ti,"ATPopup"],[ri,"ATRedirect"],[oi,"CryptoGetPKThumb"],[ii,"CryptoSignJwt"],[ai,"SltCacheClientAT"],[si,"SltIframeClientAT"],[ci,"SltRClientAT"],[ui,"SsoSlt"],[di,"StdIntClientGetDiscAuth"],[hi,"FetchAccIdWithNtvBroker"],[fi,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[pi,"NetClientSendPost"],[gi,"RTClientExecPost"],[mi,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[yi,"RTClientExecTReq"],[vi,"RTClientAT"],[bi,"RTClientATWithCachedRT"],[wi,"RTClientATByRT"],[Ci,"RTClientCreateTReqBody"],[ki,"ATFromCache"],[Si,"SltFlowClientATCached"],[Ti,"SltFlowClientGenResFromCache"],[Ii,"ATBySltIframe"],[Ei,"InitBaseReq"],[Ai,"InitSltReq"],[_i,"InitClientApplication"],[Ri,"InitCache"],[pa,"importCache"],[ga,"setUserData"],[ma,"localStorageUpdated"],[Pi,"SIClientTHelper"],[Oi,"SHandlerInitAuthReq"],[Ni,"SltHandlerMonitorIframeForHash"],[xi,"SHandlerLoadFrame"],[Mi,"SHandlerLoadFrameSync"],[Li,"StdIntClientCreateAuthCodeClient"],[qi,"StdIntClientGetClientConf"],[Ui,"StdIntClientInitAuthReq"],[Di,"StdIntClientInitAuthCodeReq"],[Fi,"GetAuthCodeUrl"],[Hi,"HandleCodeResFromServer"],[zi,"HandleCodeResp"],[Bi,"UpdTEndpointAuth"],[ji,"AuthClientAT"],[$i,"AuthClientExecTReq"],[Ki,"AuthClientCreateTReqBody"],[Wi,"AuthClientCreateQueryStr"],[Qi,"PopTGenCnf"],[Vi,"PopTGenKid"],[Gi,"HandleServerTRes"],[Yi,"DeserializeRes"],[Ji,"AuthFactCreateDiscInst"],[Xi,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[Zi,"AuthGetCDMetaFromNet"],[ea,"AuthUpdCDMeta"],[ta,"AuthUpdCDMetaFromNet"],[na,"AuthUpdEndpointMeta"],[ra,"AuthUpdMetaWithRegInfo"],[oa,"RegDiscDetectReg"],[ia,"RegDiscGetRegFromIMDS"],[aa,"RegDiscGetCurrentVer"],[sa,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[la,"HandleRedirectPromise"],[ca,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[ua,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[da,"RemoveHiddenIframe"],[ha,"ClearTAndKeysWithClaims"],[fa,"CacheManagerGetRT"],[ya,"GenPkceCodes"],[va,"GenCodeVerifier"],[ba,"GenCodeChallengeFromVerifier"],[wa,"Sha256Digest"],[Ca,"GetRandomValues"],[ka,"genHKDF"],[Sa,"genBaseKey"],[Ta,"b64Decode"],[Ia,"urlEncArr"],[Ea,"encrypt"],[Aa,"decrypt"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class Ra{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Pa{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:_a,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Ra}}startPerformanceMeasurement(){return new Ra}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const Oa="invalid_grant",Na=483,xa=600,Ma="msal",La=30,qa="msal.js.browser",Ua="53ee284d-920a-4b59-9d30-a60315b26836",Da="ppnbnpeolgkicgegkbkbjmhlideopiji",Fa="MATS",Ha="Handshake",za="HandshakeResponse",Ba="GetToken",ja="Response",$a="localStorage",Ka="sessionStorage",Wa="memoryStorage",Qa="GET",Va="POST",Ga="authority",Ya="request.state",Ja="nonce.id_token",Xa="request.origin",Za="urlHash",es="request.params",ts="interaction.status",ns="ccs.credential",rs="request.correlationId",os="request.native",is="msal.account.keys",as="msal.token.keys",ss="wrapper.sku",ls="wrapper.version",cs=861,us=862,ds=863,hs=865,fs=866,ps=61,gs=961,ms=962;var ys;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(ys||(ys={}));const vs={scopes:ft},bs="msal.db",ws=`${bs}.keys`,Cs=0,ks=1,Ss=2,Ts=3,Is=4,Es=5,As=[Cs,Es,Is];class _s{navigateInternal(e,t){return _s.defaultNavigateWindow(e,t)}navigateExternal(e,t){return _s.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class Rs extends En{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Rs.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function Ps(e,t,n){return new Rs(e,t,n)}const Os="pkce_not_created",Ns="crypto_nonexistent",xs="empty_navigate_uri",Ms="hash_empty_error",Ls="no_state_in_hash",qs="hash_does_not_contain_known_properties",Us="unable_to_parse_state",Ds="state_interaction_type_mismatch",Fs="interaction_in_progress",Hs="popup_window_error",zs="empty_window_error",Bs="user_cancelled",js="monitor_popup_timeout",$s="monitor_window_timeout",Ks="redirect_in_iframe",Ws="block_iframe_reload",Qs="block_nested_popups",Vs="iframe_closed_prematurely",Gs="silent_logout_unsupported",Ys="no_account_error",Js="silent_prompt_value_error",Xs="no_token_request_cache_error",Zs="unable_to_parse_token_request_cache_error",el="no_cached_authority_error",tl="auth_request_not_set_error",nl="invalid_cache_type",rl="non_browser_environment",ol="database_not_open",il="no_network_connectivity",al="post_request_failed",sl="get_request_failed",ll="failed_to_parse_response",cl="unable_to_load_token",ul="crypto_key_not_found",dl="auth_code_required",hl="auth_code_or_nativeAccountId_required",fl="spa_code_and_nativeAccountId_present",pl="database_unavailable",gl="unable_to_acquire_token_from_native_platform",ml="native_handshake_timeout",yl="native_extension_not_installed",vl="native_connection_not_established",bl="uninitialized_public_client_application",wl="native_prompt_not_supported",Cl="invalid_base64_string",kl="invalid_pop_token_request",Sl="failed_to_build_headers",Tl="failed_to_parse_headers",Il="For more visit: aka.ms/msaljs/browser-errors",El={[Os]:"The PKCE code challenge and verifier could not be generated.",[Ns]:"The crypto object or function is not available.",[xs]:"Navigation URI is empty. Please check stack trace for more info.",[Ms]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Il}`,[Ls]:"Hash does not contain state. Please verify that the request originated from msal.",[qs]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Il}`,[Us]:"Unable to parse state. Please verify that the request originated from msal.",[Ds]:"Hash contains state but the interaction type does not match the caller.",[Fs]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Il}`,[Hs]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[zs]:"window.open returned null or undefined window object.",[Bs]:"User cancelled the flow.",[js]:`Token acquisition in popup failed due to timeout.  ${Il}`,[$s]:`Token acquisition in iframe failed due to timeout.  ${Il}`,[Ks]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Ws]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Il}`,[Qs]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Vs]:"The iframe being monitored was closed prematurely.",[Gs]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Ys]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Js]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Xs]:"No token request found in cache.",[Zs]:"The cached token request could not be parsed.",[el]:"No cached authority found.",[tl]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[nl]:"Invalid cache type",[rl]:"Login and token requests are not supported in non-browser environments.",[ol]:"Database is not open!",[il]:"No network connectivity. Check your internet connection.",[al]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[sl]:"Network request failed. Please check the network trace to determine root cause.",[ll]:"Failed to parse network response. Check network trace.",[cl]:"Error loading token to cache.",[ul]:"Cryptographic Key or Keypair not found in browser storage.",[dl]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[hl]:"An authorization code or nativeAccountId must be provided to this flow.",[fl]:"Request cannot contain both spa code and native account id.",[pl]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[gl]:`Unable to acquire token from native platform.  ${Il}`,[ml]:"Timed out while attempting to establish connection to browser extension",[yl]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[vl]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Il}`,[bl]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Il}`,[wl]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Cl]:"Invalid base64 encoded string.",[kl]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Sl]:"Failed to build request headers object.",[Tl]:"Failed to parse response headers"};class Al extends En{constructor(e,t){super(e,El[e],t),Object.setPrototypeOf(this,Al.prototype),this.name="BrowserAuthError"}}function _l(e,t){return new Al(e,t)}class Rl{async sendGetRequestAsync(e,t){let n,r={},o=0;const i=Pl(t);try{n=await fetch(e,{method:Qa,headers:i})}catch(pp){throw _l(window.navigator.onLine?sl:il)}r=Ol(n.headers);try{return o=n.status,{headers:r,body:await n.json(),status:o}}catch(pp){throw Ps(_l(ll),o,r)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=Pl(t);let o,i=0,a={};try{o=await fetch(e,{method:Va,headers:r,body:n})}catch(pp){throw _l(window.navigator.onLine?al:il)}a=Ol(o.headers);try{return i=o.status,{headers:a,body:await o.json(),status:i}}catch(pp){throw Ps(_l(ll),i,a)}}}function Pl(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(pp){throw _l(Sl)}}function Ol(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(pp){throw _l(Tl)}}function Nl(e){return encodeURIComponent(Ml(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function xl(e){return Ll(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ml(e){return Ll((new TextEncoder).encode(e))}function Ll(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function ql(e){return(new TextDecoder).decode(Ul(e))}function Ul(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw _l(Cl)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const Dl="AES-GCM",Fl="HKDF",Hl="SHA-256",zl=new Uint8Array([1,0,1]),Bl="0123456789abcdef",jl=new Uint32Array(1),$l="encrypt",Kl="decrypt",Wl={name:"RSASSA-PKCS1-v1_5",hash:Hl,modulusLength:2048,publicExponent:zl};async function Ql(e,t,n){t?.addQueueMeasurement(wa,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(Hl,r)}function Vl(e){return window.crypto.getRandomValues(e)}function Gl(){return window.crypto.getRandomValues(jl),jl[0]}function Yl(){const e=Date.now(),t=1024*Gl()+(1023&Gl()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,i=Gl();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let s=0;s<n.length;s++)a+=Bl.charAt(n[s]>>>4),a+=Bl.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(a+="-");return a}async function Jl(e){return window.crypto.subtle.exportKey("jwk",e)}async function Xl(){const e=await window.crypto.subtle.generateKey({name:Dl,length:256},!0,[$l,Kl]);return window.crypto.subtle.exportKey("raw",e)}async function Zl(e){return window.crypto.subtle.importKey("raw",e,Fl,!1,["deriveKey"])}async function ec(e,t,n){return window.crypto.subtle.deriveKey({name:Fl,salt:t,hash:Hl,info:(new TextEncoder).encode(n)},e,{name:Dl,length:256},!1,[$l,Kl])}async function tc(e,t,n){const r=(new TextEncoder).encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),i=await ec(e,o,n),a=await window.crypto.subtle.encrypt({name:Dl,iv:new Uint8Array(12)},i,r);return{data:xl(new Uint8Array(a)),nonce:xl(o)}}async function nc(e,t,n,r){const o=Ul(r),i=await ec(e,Ul(t),n),a=await window.crypto.subtle.decrypt({name:Dl,iv:new Uint8Array(12)},i,o);return(new TextDecoder).decode(a)}async function rc(e){const t=await Ql(e);return xl(new Uint8Array(t))}const oc="storage_not_supported",ic="stubbed_public_client_application_called",ac="in_mem_redirect_unavailable",sc={[oc]:"Given storage configuration option was not supported.",[ic]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[ac]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class lc extends En{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,lc.prototype)}}function cc(e){return new lc(e,sc[e])}function uc(){return window.parent!==window}function dc(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function hc(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${Ma}.`))throw _l(Qs)}function fc(){if("undefined"===typeof window)throw _l(rl)}function pc(e){if(!e)throw _l(bl)}function gc(e){fc(),function(){if(Ro.hashContainsKnownProperties(window.location.hash)&&uc())throw _l(Ws)}(),hc(),pc(e)}function mc(e,t){if(gc(e),function(e){if(uc()&&!e)throw _l(Ks)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===Wa&&!t.cache.storeAuthStateInCookie)throw cc(ac)}function yc(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const vc=1e4;const bc="4.2.1";class wc{static loggerCallback(e,t){switch(e){case vn.Error:return void console.error(t);case vn.Info:return void console.info(t);case vn.Verbose:return void console.debug(t);case vn.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:o,telemetry:i}=e;const a={clientId:lt.EMPTY_STRING,authority:`${lt.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:lt.EMPTY_STRING,authorityMetadata:lt.EMPTY_STRING,redirectUri:"undefined"!==typeof window?dc():"",postLogoutRedirectUri:lt.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:wn,OIDCOptions:{serverResponseType:Rt.FRAGMENT,defaultScopes:[lt.OPENID_SCOPE,lt.PROFILE_SCOPE,lt.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:kn,tenant:lt.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:Ka,temporaryCacheLocation:Ka,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==$a),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:vn.Info,piiLoggingEnabled:!1},c={...{...zo,loggerOptions:l,networkClient:t?new Rl:Yo,navigationClient:new _s,loadFrameTimeout:0,windowHashTimeout:o?.loadFrameTimeout||6e4,iframeHashTimeout:o?.loadFrameTimeout||vc,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:o?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:La},...o,loggerOptions:o?.loggerOptions||l},u={application:{appName:lt.EMPTY_STRING,appVersion:lt.EMPTY_STRING},client:new Pa};n?.protocolMode!==Cn&&n?.OIDCOptions&&new bn(c.loggerOptions).warning(JSON.stringify(fo(so)));if(n?.protocolMode&&n.protocolMode!==wn&&c?.allowPlatformBroker)throw fo(lo);return{auth:{...a,...n,OIDCOptions:{...a.OIDCOptions,...n?.OIDCOptions}},cache:{...s,...r},system:c,telemetry:{...u,...i}}}(e,this.browserEnvironment);try{t=window[Ka]}catch(pp){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),o="true"===r||"false"!==r&&void 0,i={...this.config.system.loggerOptions},a=n&&Object.keys(vn).includes(n)?vn[n]:void 0;a&&(i.loggerCallback=wc.loggerCallback,i.logLevel=a),void 0!==o&&(i.piiLoggingEnabled=o),this.logger=new bn(i,"@azure/msal-browser",bc),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Cc extends wc{getModuleName(){return Cc.MODULE_NAME}getId(){return Cc.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Cc.MODULE_NAME="",Cc.ID="StandardOperatingContext";const kc="missing_kid_error",Sc="missing_alg_error",Tc={[kc]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Sc]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Ic extends En{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Ic.prototype)}}function Ec(e){return new Ic(e,Tc[e])}class Ac{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Ec(kc);if(!e.alg)throw Ec(Sc);const t=new Ac({typ:e.typ||yn,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class _c{constructor(){this.dbName=bs,this.version=1,this.tableName=ws,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(_l(pl))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(_l(ol));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(_l(ol));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(_l(ol));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(_l(ol));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(_l(ol));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(bs),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class Rc{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Pc{constructor(e){this.inMemoryCache=new Rc,this.indexedDBCache=new _c,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof Al&&e.errorCode===pl))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(pp){this.handleDatabaseAccessError(pp)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(pp){this.handleDatabaseAccessError(pp)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(pp){this.handleDatabaseAccessError(pp)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(pp){this.handleDatabaseAccessError(pp)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(pp){this.handleDatabaseAccessError(pp)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(pp){return this.handleDatabaseAccessError(pp),!1}}}class Oc{constructor(e,t,n){this.logger=e,function(e){if(!window)throw _l(rl);if(!window.crypto)throw _l(Ns);if(!e&&!window.crypto.subtle)throw _l(Ns,"crypto_subtle_undefined")}(n??!1),this.cache=new Pc(this.logger),this.performanceClient=t}createNewGuid(){return Yl()}base64Encode(e){return Ml(e)}base64Decode(e){return ql(e)}base64UrlEncode(e){return Nl(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(oi,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(Wl,e,t)}(Oc.EXTRACTABLE,Oc.POP_KEY_USAGES),r=await Jl(n.publicKey),o=Nc({e:r.e,kty:r.kty,n:r.n}),i=await this.hashString(o),a=await Jl(n.privateKey),s=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,Wl,t,n)}(a,!1,["sign"]);return await this.cache.setItem(i,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),i}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(pp){return pp instanceof Error?this.logger.error(`Clearing keystore failed with error: ${pp.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(ii,r),i=await this.cache.getItem(t);if(!i)throw _l(ul);const a=await Jl(i.publicKey),s=Nc(a),l=Nl(JSON.stringify({kid:t})),c=Nl(Ac.getShrHeaderString({...n?.header,alg:a.alg,kid:l}));e.cnf={jwk:JSON.parse(s)};const u=`${c}.${Nl(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),h=await async function(e,t){return window.crypto.subtle.sign(Wl,e,t)}(i.privateKey,d),f=`${u}.${xl(new Uint8Array(h))}`;return o&&o.end({success:!0}),f}async hashString(e){return rc(e)}}function Nc(e){return JSON.stringify(e,Object.keys(e).sort())}Oc.POP_KEY_USAGES=["sign","verify"],Oc.EXTRACTABLE=!0;const xc=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...arguments);return i?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(pp){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(pp))}catch(pp){n.trace("Unable to print error message.")}throw i?.end({success:!1},pp),pp}},Mc=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),i?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw i?.end({success:!1},e),e}))};class Lc{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(oa,this.correlationId);let n=e;if(n)t.region_source=sn;else{const e=Lc.IMDS_OPTIONS;try{const r=await Mc(this.getRegionFromIMDS.bind(this),ia,this.logger,this.performanceClient,this.correlationId)(lt.IMDS_VERSION,e);if(r.status===rn&&(n=r.body,t.region_source=ln),r.status===on){const r=await Mc(this.getCurrentVersion.bind(this),aa,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=an,null;const o=await Mc(this.getRegionFromIMDS.bind(this),ia,this.logger,this.performanceClient,this.correlationId)(r,e);o.status===rn&&(n=o.body,t.region_source=ln)}}catch(pp){return t.region_source=an,null}}return n||(t.region_source=an),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(ia,this.correlationId),this.networkInterface.sendGetRequestAsync(`${lt.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,lt.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(aa,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${lt.IMDS_ENDPOINT}?format=json`,e);return t.status===on&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(pp){return null}}}Lc.IMDS_OPTIONS={headers:{Metadata:"true"}};class qc{constructor(e,t,n,r,o,i,a,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=i,this.managedIdentity=s||!1,this.regionDiscovery=new Lc(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(lt.CIAM_AUTH_URL))return To;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case lt.ADFS:return ko;case lt.DSTS:return So}return Co}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Ro(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw wr(Nn)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw wr(Nn)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw wr(Nn)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw wr(dr);return this.replacePath(this.metadata.end_session_endpoint)}throw wr(Nn)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw wr(Nn)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw wr(Nn)}canReplaceTenant(e){return 1===e.PathSegments.length&&!qc.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Co&&this.protocolMode===wn}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new Ro(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let i=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new Ro(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==e&&(this.logger.verbose(`Replacing tenant domain name ${i} with id ${e}`),i=e)}e!==i&&(t=t.replace(`/${i}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ko||this.protocolMode!==wn&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Xi,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await Mc(this.updateCloudDiscoveryMetadata.bind(this),ea,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await Mc(this.updateEndpointMetadata.bind(this),na,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Dr(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==$t&&n?.source!==$t&&(e.expiresAt=Dr(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(na,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===Wt&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){Fr(e,await Mc(this.updateMetadataWithRegionalInformation.bind(this),ra,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await Mc(this.getEndpointMetadataFromNetwork.bind(this),ta,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await Mc(this.updateMetadataWithRegionalInformation.bind(this),ra,this.logger,this.performanceClient,this.correlationId)(n)),Fr(e,n,!0),Kt;throw wr(Mn,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Fr(e,t,!1),{source:jt};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return Fr(e,t,!1),{source:Wt,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=zr(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:$t}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Ro(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(pp){throw fo(to)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(ta,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(pp){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${pp}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Po?Po[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(ra,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==lt.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=cn,this.regionDiscoveryMetadata.region_used=t,qc.replaceWithRegionalInformation(e,t);const n=await Mc(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),oa,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=un,this.regionDiscoveryMetadata.region_used=n,qc.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=dn}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(ea,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await Mc(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Zi,this.logger,this.performanceClient,this.correlationId)();if(n)return Hr(e,n,!0),Kt;throw fo(no)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||lt.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||lt.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||lt.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Hr(e,t,!1),jt;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,Mo(Oo.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Hr(e,t,!1),Wt;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=zr(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),$t):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===To)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),qc.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=Mo(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(pp){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),fo(eo)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),qc.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Zi,this.correlationId);const e=`${lt.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let o,i;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))o=r.body,i=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),o=r.body,o.error===lt.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Mo(i,this.hostnameAndPort)}catch(r){if(r instanceof En)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=qc.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&Ro.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==kn){const e=t.tenant?t.tenant:lt.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return lt.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw wr(Nn)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return No.has(e)}static isPublicCloudAuthority(e){return lt.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new Ro(e);r.validateAsUri();const o=r.getUrlComponents();let i=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(i=`${t}.${lt.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=Ro.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:i}).urlString;return n?`${a}?${n}`:a}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=qc.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=qc.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=qc.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new Ro(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(lt.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${lt.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function Uc(e){return e.endsWith(lt.FORWARD_SLASH)?e:`${e}${lt.FORWARD_SLASH}`}qc.reservedTenantDomains=new Set(["{tenant}","{tenantid}",kt,Tt,St]);const Dc="no_tokens_found",Fc="native_account_unavailable",Hc="refresh_token_expired",zc="bad_token",Bc=["interaction_required","consent_required","login_required",zc],jc=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],$c={[Dc]:"No refresh token found in the cache. Please sign-in.",[Fc]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Hc]:"Refresh token has expired.",[zc]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Kc extends En{constructor(e,t,n,r,o,i,a,s){super(e,t,n),Object.setPrototypeOf(this,Kc.prototype),this.timestamp=r||lt.EMPTY_STRING,this.traceId=o||lt.EMPTY_STRING,this.correlationId=i||lt.EMPTY_STRING,this.claims=a||lt.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=s}}function Wc(e,t,n){const r=!!e&&Bc.indexOf(e)>-1,o=!!n&&jc.indexOf(n)>-1,i=!!t&&Bc.some((e=>t.indexOf(e)>-1));return r||i||o}function Qc(e){return new Kc(e,$c[e])}class Vc{static setRequestState(e,t,n){const r=Vc.generateLibraryState(e,n);return t?`${r}${lt.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw wr(nr);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw wr(nr);if(!t)throw wr(qn);try{const n=t.split(lt.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(lt.RESOURCE_DELIM):lt.EMPTY_STRING,i=e.base64Decode(r),a=JSON.parse(i);return{userRequestState:o||lt.EMPTY_STRING,libraryState:a}}catch(pp){throw wr(qn)}}}const Gc="home_account_id",Yc="UPN",Jc=864e5,Xc="Lax",Zc="None";class eu{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[o,...i]=decodeURIComponent(e).trim().split("="),a=i.join("=");if(o===t)return a}return""}getUserData(){throw wr(mr)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xc,i=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${o};`;if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*Jc);return n.toUTCString()}(n);i+=`expires=${e};`}(r||o===Zc)&&(i+="Secure;"),document.cookie=i}async setUserData(){return Promise.reject(wr(mr))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function tu(e){const t=e.getItem(is);return t?JSON.parse(t):[]}function nu(e,t){const n=t.getItem(`${as}.${e}`);if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const ru="msal.cache.encryption";class ou{constructor(e,t,n){if(!window.localStorage)throw cc(oc);this.memoryStorage=new Rc,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){this.initialized=!0;const t=new eu,n=t.getItem(ru);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(pp){}if(r.key&&r.id){const t=xc(Ul,Ta,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await Mc(Zl,ka,this.logger,this.performanceClient,e)(t)},await Mc(this.importExistingCache.bind(this),pa,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=Yl(),r=await Mc(Xl,Sa,this.logger,this.performanceClient,e)(),o=xc(xl,Ia,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await Mc(Zl,ka,this.logger,this.performanceClient,e)(r)};const i={id:n,key:o};t.setItem(ru,JSON.stringify(i),0,!0,Zc)}this.broadcast.addEventListener("message",this.updateCache.bind(this))}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw _l(bl);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw _l(bl);const{data:r,nonce:o}=await Mc(tc,Ea,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),i={id:this.encryptionCookie.id,nonce:o,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(i)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();tu(this).forEach((e=>this.removeItem(e)));const e=nu(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(lt.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=tu(this);t=await this.importArray(t,e),this.setItem(is,JSON.stringify(t));const n=nu(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem(`${as}.${this.clientId}`,JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(pp){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):Mc(nc,Aa,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const o=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(o)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(ma);t.add({isBackground:!0});const{key:n,value:r,context:o}=e.data;return n?o&&o!==this.clientId?(this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class iu{constructor(){if(!window.sessionStorage)throw cc(oc)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}function au(e,t){if(!t)return null;try{return Vc.parseRequestState(e,t).libraryState.meta}catch(pp){throw wr(qn)}}const su="msal:initializeStart",lu="msal:initializeEnd",cu="msal:accountAdded",uu="msal:accountRemoved",du="msal:activeAccountChanged",hu="msal:loginStart",fu="msal:loginSuccess",pu="msal:loginFailure",gu="msal:acquireTokenStart",mu="msal:acquireTokenSuccess",yu="msal:acquireTokenFailure",vu="msal:acquireTokenFromNetworkStart",bu="msal:ssoSilentStart",wu="msal:ssoSilentSuccess",Cu="msal:ssoSilentFailure",ku="msal:acquireTokenByCodeStart",Su="msal:acquireTokenByCodeSuccess",Tu="msal:acquireTokenByCodeFailure",Iu="msal:handleRedirectStart",Eu="msal:handleRedirectEnd",Au="msal:popupOpened",_u="msal:logoutStart",Ru="msal:logoutSuccess",Pu="msal:logoutFailure",Ou="msal:logoutEnd",Nu="msal:restoreFromBFCache";class xu extends Fo{constructor(e,t,n,r,o,i,a){super(e,n,r,a),this.cacheConfig=t,this.logger=r,this.internalStorage=new Rc,this.browserStorage=Mu(e,t.cacheLocation,r,o),this.temporaryCacheStorage=Mu(e,t.temporaryCacheLocation,r,o),this.cookieStorage=new eu,this.performanceClient=o,this.eventHandler=i}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&Eo.isAccountEntity(n)?Fo.toObject(new Eo,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await Mc(this.browserStorage.setUserData.bind(this.browserStorage),ga,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===$a&&r&&this.eventHandler.emitEvent(cu,void 0,e.getAccountInfo())}getAccountKeys(){return tu(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(is,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(is,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===$a&&this.eventHandler.emitEvent(uu,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,Dt.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,Dt.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,Dt.REFRESH_TOKEN)}getTokenKeys(){return nu(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case Dt.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case Dt.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case Dt.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),wr(rr)}this.browserStorage.setItem(`${as}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case Dt.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case Dt.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case Dt.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),wr(rr)}this.browserStorage.setItem(`${as}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Dt.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Nr(r)&&r.hasOwnProperty("realm")&&r.credentialType===Dt.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Dt.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=_r(e);await Mc(this.browserStorage.setUserData.bind(this.browserStorage),ga,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,Dt.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Dt.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Nr(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===Dt.ACCESS_TOKEN||r.credentialType===Dt.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Dt.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=_r(e);await Mc(this.browserStorage.setUserData.bind(this.browserStorage),ga,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,Dt.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Dt.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Nr(r)&&r.credentialType===Dt.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Dt.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=_r(e);await Mc(this.browserStorage.setUserData.bind(this.browserStorage),ga,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,Dt.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(Ft)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[Ft,t,n].join(qt).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(Qt.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(zt)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(ss,e),this.internalStorage.setItem(ls,t)}getWrapperMetadata(){return[this.internalStorage.getItem(ss)||lt.EMPTY_STRING,this.internalStorage.getItem(ls)||lt.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(Ct),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(Ct);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(du)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(Jt));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===$a){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(lt.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(lt.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(ha,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):po.startsWith(e,lt.CACHE_PREFIX)?e:`${lt.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=Vc.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Ga}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=Vc.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Ja}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=Vc.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Ya}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);const a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:Gc};this.setTemporaryCache(ns,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:Yc};this.setTemporaryCache(ns,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeTemporaryItem(t)})),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(es)),this.removeTemporaryItem(this.generateCacheKey(Xa)),this.removeTemporaryItem(this.generateCacheKey(Za)),this.removeTemporaryItem(this.generateCacheKey(rs)),this.removeTemporaryItem(this.generateCacheKey(ns)),this.removeTemporaryItem(this.generateCacheKey(os)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||lt.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach((t=>{if(-1===t.indexOf(Ya))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=au(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))})),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Ml(JSON.stringify(e));this.setTemporaryCache(es,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(es,!0);if(!t)throw _l(Xs);let n;try{n=JSON.parse(ql(t))}catch(pp){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${pp}`),_l(Zs)}if(this.removeTemporaryItem(this.generateCacheKey(es)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw _l(el);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(os,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${lt.CACHE_PREFIX}.${ts}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${lt.CACHE_PREFIX}.${ts}`;if(e){if(this.getInteractionInProgress())throw _l(Fs);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeTemporaryItem(t)}async hydrateCache(e,t){const n=Rr(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:Pr(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,ql,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(pp){if(pp instanceof Do&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(pp){}throw pp}}}function Mu(e,t,n,r){try{switch(t){case $a:return new ou(e,n,r);case Ka:return new iu}}catch(pp){n.error(pp)}return new Rc}class Lu{constructor(e){this.eventCallbacks=new Map,this.logger=e||new bn({}),this.broadcastChannel=new BroadcastChannel("msal.broadcast.event"),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||Yl();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case cu:case uu:case du:this.broadcastChannel.postMessage(o);break;default:this.invokeCallbacks(o)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,o]=t;(0===o.length||o.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e.eventType}`),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel.removeEventListener("message",this.invokeCrossTabCallbacks)}}class qu extends En{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,qu.prototype)}}class Uu{static generateThrottlingStorageKey(e){return`${Jt}.${JSON.stringify(e)}`}static preProcess(e,t){const n=Uu.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new qu(r.errorCodes?.join(" ")||lt.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(Uu.checkResponseStatus(n)||Uu.checkResponseForRetryAfter(n)){const r={throttleTime:Uu.calculateThrottleTime(parseInt(n.headers[yt])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(Uu.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(yt)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||Gt),n+Yt))}static removeThrottle(e,t,n,r){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},i=this.generateThrottlingStorageKey(o);e.removeItem(i)}}const Du="client_id",Fu="redirect_uri",Hu="response_type",zu="token_type",Bu="req_cnf",ju="return_spa_code",$u="x-client-xtra-sku",Ku="brk_client_id",Wu="brk_redirect_uri";class Qu{static validateRedirectUri(e){if(!e)throw fo(Br)}static validatePrompt(e){const t=[];for(const n in At)t.push(At[n]);if(t.indexOf(e)<0)throw fo(Vr)}static validateClaims(e){try{JSON.parse(e)}catch(pp){throw fo(Gr)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw fo(Zr);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([_t.PLAIN,_t.S256].indexOf(e)<0)throw fo(Xr)}}class Vu{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(Hu,encodeURIComponent(lt.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Hu,encodeURIComponent(`${lt.TOKEN_RESPONSE_TYPE} ${lt.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||Pt.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft;!t||n.includes("openid")||e.includes("openid")||n.push("openid");const r=t?[...e||[],...n]:e||[],o=new go(r);this.parameters.set("scope",encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(Du,encodeURIComponent(e))}addRedirectUri(e){Qu.validateRedirectUri(e),this.parameters.set(Fu,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Qu.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(vt,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(vt,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);Qu.validateClaims(n),this.parameters.set("claims",encodeURIComponent(n))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){Qu.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(Qu.validateCodeChallengeParams(e,t),!e||!t)throw fo(Zr);this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(e){Object.entries(e).forEach((e=>{let[t,n]=e;!this.parameters.has(t)&&n&&this.parameters.set(t,n)}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(pp){throw fo(Gr)}else n={};return t&&t.length>0&&(n.hasOwnProperty(It)||(n[It]={}),n[It][Et]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(tn,encodeURIComponent(e))}addPassword(e){this.parameters.set(nn,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(zu,Vt.POP),this.parameters.set(Bu,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(zu,Vt.SSH),this.parameters.set(Bu,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",Xt)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}addBrokerParameters(e){const t={};t[Ku]=e.brokerClientId,t[Wu]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push(`${n}=${t}`)})),function(e,t,n){if(!t)return;const r=e.get(Du);r&&e.has(Ku)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(Fu)},t)}(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}async function Gu(e,t,n,r,o,i,a){a?.addQueueMeasurement(Ji,i);const s=qc.transformCIAMAuthority(Uc(e)),l=new qc(s,t,n,r,o,i,a);try{return await Mc(l.resolveEndpointsAsync.bind(l),Xi,o,a,i)(),l}catch(pp){throw wr(Nn)}}class Yu{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:i,networkInterface:a,cryptoInterface:s,clientCredentials:l,libraryInfo:c,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:f}=e;const p={...Bo,...r};return{authOptions:(g=t,{clientCapabilities:[],azureCloudOptions:Qo,skipAuthorityMetadataCache:!1,instanceAware:!1,...g}),systemOptions:{...zo,...n},loggerOptions:p,cacheOptions:{...jo,...o},storageInterface:i||new Ho(t.clientId,Cr,new bn(p)),networkInterface:a||$o,cryptoInterface:s||Cr,clientCredentials:l||Wo,libraryInfo:{...Ko,...c},telemetry:{...Vo,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:f||null};var g}(e),this.logger=new bn(this.config.loggerOptions,kr,Sr),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[gt]=lt.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Gc:try{const n=yo(e.credential);t[vt]=`Oid:${n.uid}@${n.utid}`}catch(pp){this.logger.verbose("Could not parse home account ID for CCS Header: "+pp)}break;case Yc:t[vt]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,o,i){i&&this.performanceClient?.addQueueMeasurement(i,o);const a=await this.sendPostRequest(r,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&a.status<500&&429!==a.status&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,n,r){let o;Uu.preProcess(this.cacheManager,e);try{o=await Mc(this.networkClient.sendPostRequestAsync.bind(this.networkClient),pi,this.logger,this.performanceClient,r)(t,n);const e=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:e[wt]||"",requestId:e[bt]||""},r)}catch(pp){if(pp instanceof Rs){const t=pp.responseHeaders;throw t&&this.performanceClient?.addFields({httpVerToken:t[wt]||"",requestId:t[bt]||"",contentTypeHeader:t[gt]||void 0,contentLengthHeader:t[mt]||void 0,httpStatus:pp.httpStatus},r),pp.error}throw pp instanceof En?pp:wr(xn)}return Uu.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(Bi,t);const n=`https://${e}/${this.authority.tenant}/`,r=await Gu(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new Vu(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}const Ju="sw";class Xu{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(Qi,e.correlationId);const n=await Mc(this.generateKid.bind(this),Qi,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(Vi,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Ju}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:i,shrClaims:a,shrNonce:s,shrOptions:l}=n,c=i?new Ro(i):void 0,u=c?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Er(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0,...r},t,l,n.correlationId)}}class Zu{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class ed{constructor(e,t,n,r,o,i,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?wr(Dn,"Cached State"):wr(Dn,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(pp){throw wr(qn,e.state)}try{r=decodeURIComponent(t)}catch(pp){throw wr(qn,e.state)}if(n!==r)throw wr(Un);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+5):void 0}(e);if(Wc(e.error,e.error_description,e.suberror))throw new Kc(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new qu(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||lt.NOT_AVAILABLE} - Timestamp: ${e.timestamp||lt.NOT_AVAILABLE} - Description: ${e.error_description||lt.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||lt.NOT_AVAILABLE} - Trace ID: ${e.trace_id||lt.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,o=new qu(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=dt&&e.status<=ht)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);if(t&&e.status&&e.status>=ct&&e.status<=ut)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);if(Wc(e.error,e.error_description,e.suberror))throw new Kc(e.error,e.error_description,e.suberror,e.timestamp||lt.EMPTY_STRING,e.trace_id||lt.EMPTY_STRING,e.correlation_id||lt.EMPTY_STRING,e.claims||lt.EMPTY_STRING,r);throw o}}async handleServerTokenResponse(e,t,n,r,o,i,a,s,l){let c,u;if(this.performanceClient?.addQueueMeasurement(Gi,e.correlation_id),e.id_token){if(c=Tr(e.id_token||lt.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&c.nonce!==o.nonce)throw wr(Fn);if(r.maxAge||0===r.maxAge){const e=c.auth_time;if(!e)throw wr(Hn);Ir(e,r.maxAge)}}this.homeAccountIdentifier=Eo.generateHomeAccountId(e.client_info||lt.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,c),o&&o.state&&(u=Vc.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const d=this.generateCacheRecord(e,t,n,r,c,i,o);let h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new Zu(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),a&&!s&&d.account){const e=d.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await ed.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,c,u,void 0,l)}await this.cacheStorage.saveCacheRecord(d,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(h))}return ed.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,c,u,e,l)}generateCacheRecord(e,t,n,r,o,i,a){const s=t.getPreferredCache();if(!s)throw wr(er);const l=Io(o);let c,u;e.id_token&&o&&(c=Rr(this.homeAccountIdentifier,s,e.id_token,this.clientId,l||""),u=td(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,l,a,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?go.fromString(e.scope):new go(r.scopes||[]),a=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,c=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+a,f=h+c,p=u&&u>0?n+u:void 0;d=Pr(this.homeAccountIdentifier,s,e.access_token,this.clientId,l||t.tenant||"",o.printScopes(),h,f,this.cryptoObj.base64Decode,p,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=Or(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,i,t)}let f=null;return e.foci&&(f={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:c,accessToken:d,refreshToken:h,appMetadata:f}}static async generateAuthenticationResult(e,t,n,r,o,i,a,s,l){let c,u,d=lt.EMPTY_STRING,h=[],f=null,p=lt.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==Vt.POP||o.popKid)d=n.accessToken.secret;else{const t=new Xu(e),{secret:r,keyId:i}=n.accessToken;if(!i)throw wr(hr);d=await t.signPopToken(r,i,o)}h=go.fromString(n.accessToken.target).asArray(),f=new Date(1e3*Number(n.accessToken.expiresOn)),c=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(u=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(p=n.appMetadata.familyId===Ht?Ht:"");const g=i?.oid||i?.sub||"",m=i?.tid||"";s?.spa_accountid&&n.account&&(n.account.nativeAccountId=s?.spa_accountid);const y=n.account?wo(n.account.getAccountInfo(),void 0,i,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:g,tenantId:m,scopes:h,account:y,idToken:n?.idToken?.secret||"",idTokenClaims:i||{},accessToken:d,fromCache:r,expiresOn:f,extExpiresOn:c,refreshOn:u,correlationId:o.correlationId,requestId:l||lt.EMPTY_STRING,familyId:p,tokenType:n.accessToken?.tokenType||lt.EMPTY_STRING,state:a?a.userRequestState:lt.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||lt.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||lt.EMPTY_STRING,code:s?.spa_code,fromNativeBroker:!1}}}function td(e,t,n,r,o,i,a,s,l,c,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d));const f=h||Eo.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:i,environment:a,cloudGraphHostName:l?.cloud_graph_host_name,msGraphHost:l?.msgraph_host,nativeAccountId:c},t,r),p=f.tenantProfiles||[],g=s||f.realm;if(g&&!p.find((e=>e.tenantId===g))){const e=bo(n,f.localAccountId,g,o);p.push(e)}return f.tenantProfiles=p,f}async function nd(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class rd extends Yu{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(Fi,e.correlationId);const t=await Mc(this.createAuthCodeUrlQueryString.bind(this),Wi,this.logger,this.performanceClient,e.correlationId)(e);return Ro.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(ji,e.correlationId),!e.code)throw wr(Kn);const n=Er(),r=await Mc(this.executeTokenRequest.bind(this),$i,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[bt],i=new ed(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return i.validateTokenResponse(r.body),Mc(i.handleServerTokenResponse.bind(i),Gi,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,o)}handleFragmentResponse(e,t){if(new ed(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw wr(cr);return e}getLogoutUri(e){if(!e)throw fo(Jr);const t=this.createLogoutUrlQueryString(e);return Ro.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement($i,t.correlationId);const n=this.createTokenQueryParameters(t),r=Ro.appendQueryString(e.tokenEndpoint,n),o=await Mc(this.createTokenRequestBody.bind(this),Ki,this.logger,this.performanceClient,t.correlationId)(t);let i;if(t.clientInfo)try{const e=mo(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${e.uid}${Ut}${e.utid}`,type:Gc}}catch(pp){this.logger.verbose("Could not parse client info for CCS Header: "+pp)}const a=this.createTokenRequestHeaders(i||t.ccsCredential),s={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return Mc(this.executePostToTokenEndpoint.bind(this),mi,this.logger,this.performanceClient,t.correlationId)(r,o,a,s,t.correlationId,mi)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Ki,e.correlationId);const t=new Vu(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[Du]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):Qu.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Go(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await nd(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)}if(t.addGrantType(Ot),t.addClientInfo(),e.authenticationScheme===Vt.POP){const n=new Xu(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Mc(n.generateCnf.bind(n),Qi,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}else if(e.authenticationScheme===Vt.SSH){if(!e.sshJwk)throw fo(ro);t.addSshJwk(e.sshJwk)}let n;if((!po.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=mo(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${t.uid}${Ut}${t.utid}`,type:Gc}}catch(pp){this.logger.verbose("Could not parse client info for CCS Header: "+pp)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case Gc:try{const e=yo(n.credential);t.addCcsOid(e)}catch(pp){this.logger.verbose("Could not parse home account ID for CCS Header: "+pp)}break;case Yc:t.addCcsUpn(n.credential)}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[ju]||t.addExtraQueryParameters({[ju]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){const t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(Wi,t);const n=new Vu(t,this.performanceClient);n.addClientId(e.embeddedClientId||e.extraQueryParameters?.[Du]||this.config.authOptions.clientId);const r=[...e.scopes||[],...e.extraScopesToConsent||[]];if(n.addScopes(r,!0,this.oidcDefaultScopes),n.addRedirectUri(e.redirectUri),n.addCorrelationId(t),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),Go(this.config)||n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&(n.addDomainHint(e.domainHint),this.performanceClient?.addFields({domainHintFromRequest:!0},t)),this.performanceClient?.addFields({prompt:e.prompt},t),e.prompt!==At.SELECT_ACCOUNT)if(e.sid&&e.prompt===At.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid),this.performanceClient?.addFields({sidFromRequest:!0},t);else if(e.account){const r=this.extractAccountSid(e.account);let o=this.extractLoginHint(e.account);if(o&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),o=null),o){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(o),this.performanceClient?.addFields({loginHintFromClaim:!0},t);try{const t=yo(e.account.homeAccountId);n.addCcsOid(t)}catch(pp){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(r&&e.prompt===At.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(r),this.performanceClient?.addFields({sidFromClaim:!0},t);try{const t=yo(e.account.homeAccountId);n.addCcsOid(t)}catch(pp){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint),this.performanceClient?.addFields({loginHintFromRequest:!0},t);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username),this.performanceClient?.addFields({loginHintFromUpn:!0},t);try{const t=yo(e.account.homeAccountId);n.addCcsOid(t)}catch(pp){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint),this.performanceClient?.addFields({loginHintFromRequest:!0},t));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,n),e.platformBroker&&(n.addNativeBroker(),e.authenticationScheme===Vt.POP)){const t=new Xu(this.cryptoUtils);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Mc(t.generateCnf.bind(t),Qi,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}return n.createQueryString()}createLogoutUrlQueryString(e){const t=new Vu(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}function od(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:i}=e,a=new Map([[0,[n,r]],[2,[o,i]]]);let s=[];if(t?.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return a.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class id{constructor(e,t){this.cacheOutcome=hn,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||lt.EMPTY_STRING,this.wrapperVer=e.wrapperVer||lt.EMPTY_STRING,this.telemetryCacheKey=Qt.CACHE_KEY+qt+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Qt.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(Qt.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(Qt.VALUE_SEPARATOR);return[Qt.SCHEMA_VERSION,o,r].join(Qt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=id.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(Qt.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(Qt.VALUE_SEPARATOR),o=e.errors.length,i=[o,t<o?Qt.OVERFLOW_TRUE:Qt.OVERFLOW_FALSE].join(Qt.VALUE_SEPARATOR);return[Qt.SCHEMA_VERSION,e.cacheHits,n,r,i].join(Qt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=Qt.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof En?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(Qt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=id.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||lt.EMPTY_STRING,i=e.failedRequests[2*t+1]||lt.EMPTY_STRING,a=e.errors[t]||lt.EMPTY_STRING;if(r+=o.toString().length+i.toString().length+a.length+3,!(r<Qt.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||lt.EMPTY_STRING),e.push(this.regionSource||lt.EMPTY_STRING),e.push(this.regionOutcome||lt.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return od(e)}}class ad{constructor(e,t,n,r,o,i,a,s,l){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=s,this.correlationId=l||Yl(),this.logger=r.clone(qa,bc,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){Eo.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Eo.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(pp){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Ro.getAbsoluteUrl(t,dc())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new id(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(di,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,i=n?.length?"true"===n:this.config.auth.instanceAware,a=t&&i?this.config.auth.authority.replace(Ro.getDomainFromUrl(o),t.environment):o,s=qc.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await Mc(Gu,Ji,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!l.isAlias(t.environment))throw fo(co);return l}}async function sd(e,t,n){e.addQueueMeasurement(ya,n);const r=xc(ld,va,t,e,n)(e,t,n);return{verifier:r,challenge:await Mc(cd,ba,t,e,n)(r,e,t,n)}}function ld(e,t,n){try{const r=new Uint8Array(32);xc(Vl,Ca,t,e,n)(r);return xl(r)}catch(pp){throw _l(Os)}}async function cd(e,t,n,r){t.addQueueMeasurement(ba,r);try{const o=await Mc(Ql,wa,n,t,r)(e,t,r);return xl(new Uint8Array(o))}catch(pp){throw _l(Os)}}async function ud(e,t,n,r){n.addQueueMeasurement(Ei,e.correlationId);const o=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],a={...e,correlationId:e.correlationId,authority:o,scopes:i};if(a.authenticationScheme){if(a.authenticationScheme===Vt.SSH){if(!e.sshJwk)throw fo(ro);if(!e.sshKid)throw fo(oo)}r.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}else a.authenticationScheme=Vt.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!po.isEmptyObj(e.claims)&&(a.requestedClaimsHash=await rc(e.claims)),a}async function dd(e,t,n,r,o){r.addQueueMeasurement(Ai,e.correlationId);const i=await Mc(ud,Ei,o,r,e.correlationId)(e,n,r,o);return{...e,...i,account:t,forceRefresh:e.forceRefresh||!1}}class hd extends ad{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(Di,this.correlationId);const t=await Mc(sd,ya,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:lt.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=lt.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||Yl(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Ro.getAbsoluteUrl(e.postLogoutRedirectUri,dc())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Ro.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,dc())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Ro.getAbsoluteUrl(dc(),dc())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(Li,this.correlationId);const t=await Mc(this.getClientConfiguration.bind(this),qi,this.logger,this.performanceClient,this.correlationId)(e);return new rd(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}=e;this.performanceClient.addQueueMeasurement(qi,this.correlationId);const a=await Mc(this.getDiscoveredAuthority.bind(this),di,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:qa,version:bc,cpu:lt.EMPTY_STRING,os:lt.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Ui,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=Vc.setRequestState(this.browserCrypto,e&&e.state||lt.EMPTY_STRING,r),i={...await Mc(ud,Ei,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||Yl(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return i;const a=e.account||this.browserStorage.getActiveAccount();return a&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${a.homeAccountId}`,this.correlationId),i.account=a),i}}const fd="user_switch",pd={[fd]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class gd extends En{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,gd.prototype),this.name="NativeAuthError",this.ext=n}}function md(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function yd(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return Qc(Fc);case"USER_INTERACTION_REQUIRED":return new Kc(e,t);case"USER_CANCEL":return _l(Bs);case"NO_NETWORK":return _l(il)}return new gd(e,pd[e]||t,n)}class vd extends Yu{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(Si,e.correlationId);let t=hn;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!po.isEmptyObj(e.claims))throw this.setCacheOutcome(fn,e.correlationId),wr(ar);if(!e.account)throw wr(Xn);const n=e.account.tenantId||function(e){const t=new Ro(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case kt:case St:case Tt:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome(pn,e.correlationId),wr(ar);if(i=o.cachedAt,Number(i)>Er()||Ar(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(gn,e.correlationId),wr(ar);var i;o.refreshOn&&Ar(o.refreshOn,0)&&(t=mn);const a=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Mc(this.generateResultFromCacheRecord.bind(this),Ti,this.logger,this.performanceClient,e.correlationId)(s,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==hn&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(Ti,t.correlationId),e.idToken&&(n=Tr(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw wr(Hn);Ir(e,t.maxAge)}return ed.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class bd extends hd{async acquireToken(e){this.performanceClient.addQueueMeasurement(ai,e.correlationId);const t=this.initializeServerTelemetryManager(ps),n=await Mc(this.getClientConfiguration.bind(this),qi,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new vd(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Mc(r.acquireCachedToken.bind(r),Si,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof Al&&o.errorCode===ul&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class wd extends ad{constructor(e,t,n,r,o,i,a,s,l,c,u,d){super(e,t,n,r,o,i,s,l,d),this.apiId=a,this.accountId=c,this.nativeMessageHandler=l,this.nativeStorageManager=u,this.silentCacheClient=new bd(e,this.nativeStorageManager,n,r,o,i,s,l,d);const h=this.nativeMessageHandler.getExtensionId()===Da?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=id.makeExtraSkuString({libraryName:qa,libraryVersion:bc,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[$u]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(fi,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(fi,e.correlationId),n=Er(),r=this.initializeServerTelemetryManager(this.apiId);try{const o=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,o);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(pp){this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...i}=o,a={method:Ba,request:i},s=await this.nativeMessageHandler.sendMessage(a),l=this.validateNativeResponse(s);return await this.handleNativeResponse(l,o,n).then((e=>(t.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),r.clearNativeBrokerErrorCode(),e))).catch((e=>{throw t.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(pp){throw pp instanceof gd&&r.setNativeBrokerErrorCode(pp.errorCode),pp}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:go.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),wr(tr);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw wr(tr);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(pp){throw pp}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:Ba,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(pp){if(pp instanceof gd){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(pp.errorCode),md(pp))throw pp}}this.browserStorage.setTemporaryCache(os,JSON.stringify(r),!0);const i={apiId:cs,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(os));const i={method:Ba,request:o},a=Er();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,a);this.browserStorage.setInteractionInProgress(!1);const n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(pp){throw this.browserStorage.setInteractionInProgress(!1),pp}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=Tr(e.id_token,ql),o=this.createHomeAccountIdentifier(e,r),i=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==i&&e.account.id!==t.accountId)throw yd(fd);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),s=td(this.browserStorage,a,o,ql,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger),l=await this.generateAuthenticationResult(e,t,r,s,a.canonicalAuthority,n);return await this.cacheAccount(s),await this.cacheNativeTokens(e,t,o,r,e.access_token,l.tenantId,n),l}createHomeAccountIdentifier(e,t){return Eo.generateHomeAccountId(e.client_info||lt.EMPTY_STRING,Co,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?go.fromString(e.scope):go.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===Vt.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new Xu(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw wr(hr);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,i){const a=this.addTelemetryFromNativeResponse(e),s=e.scope?go.fromString(e.scope):go.fromString(t.scope),l=e.account.properties||{},c=l.UID||n.oid||n.sub||lt.EMPTY_STRING,u=l.TenantId||n.tid||lt.EMPTY_STRING,d=wo(r.getAccountInfo(),void 0,n,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const h=await this.generatePopAccessToken(e,t),f=t.tokenType===Vt.POP?Vt.POP:Vt.BEARER;return{authority:o,uniqueId:c,tenantId:u,scopes:s.asArray(),account:d,idToken:e.id_token,idTokenClaims:n,accessToken:h,fromCache:!!a&&this.isResponseFromCache(a),expiresOn:new Date(1e3*Number(i+e.expires_in)),tokenType:f,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,o,i,a){const s=Rr(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=a+(t.tokenType===Vt.POP?lt.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),c=this.generateScopes(e,t),u={idToken:s,accessToken:Pr(n,t.authority,o,t.clientId,r.tid||i,c.printScopes(),l,0,ql,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(u,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw An(Sn,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(pp){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new Ro(t);n.validateAsUri();const{scopes:r,...o}=e,i=new go(r||[]);i.appendScopes(ft);const a={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case ds:case ps:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),At.NONE}if(e.prompt)switch(e.prompt){case At.NONE:case At.CONSENT:case At.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),_l(wl)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw _l(kl);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Fa,e.authenticationScheme===Vt.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new Xu(this.browserCrypto);let r;if(a.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const o=await Mc(n.generateCnf.bind(n),Qi,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,a.keyId=o.kid,a.signPopToken=!0}a.reqCnf=r}return this.addRequestSKUs(a),a}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(Ku)&&e.extraParameters.hasOwnProperty(Wu)&&e.extraParameters.hasOwnProperty(Du);if(!e.embeddedClientId&&!t)return;let n="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Wu],n=e.extraParameters[Du]),e.extraParameters={child_client_id:n,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:r},e.correlationId)}}class Cd{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(ua)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Ua,extensionId:this.extensionId,responseId:Yl(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Cd(e,t,n,Da);return await r.sendHandshakeRequest(),r}catch(pp){const o=new Cd(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Ua,extensionId:this.extensionId,responseId:Yl(),body:{method:Ha}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(_l(ml)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===Ua&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Ha){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(_l(yl))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===ja){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(yd(e.code,e.description,e.ext));else{if(!e.result)throw An(Sn,"Event does not contain result.");e.result.code&&e.result.description?n.reject(yd(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===za){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case Vt.BEARER:case Vt.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class kd{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(zi,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(pp){throw pp instanceof qu&&pp.subError===Bs?_l(Bs):pp}return Mc(this.handleCodeResponseFromServer.bind(this),Hi,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(Hi,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Mc(this.authModule.updateAuthority.bind(this.authModule),Bi,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Mc(this.authModule.acquireToken.bind(this.authModule),ji,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Gc}:e.loginHint?{credential:e.loginHint,type:Yc}:null}}function Sd(e,t,n){const r=_o(e);if(!r)throw Ao(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),_l(qs)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),_l(Ms));return r}class Td extends hd{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e){try{const t={popupName:this.generatePopupName(e.scopes||ft,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),t.popup=this.openSizedPopup("about:blank",t),this.acquireTokenPopupAsync(e,t))}catch(pp){return Promise.reject(pp)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,o))}catch(pp){return Promise.reject(pp)}}async acquireTokenPopupAsync(e,t){this.logger.verbose("acquireTokenPopupAsync called");const n=this.initializeServerTelemetryManager(us),r=await Mc(this.initializeAuthorizationRequest.bind(this),Ui,this.logger,this.performanceClient,this.correlationId)(e,ys.Popup);yc(r.authority);try{const o=await Mc(this.initializeAuthorizationCodeRequest.bind(this),Di,this.logger,this.performanceClient,this.correlationId)(r),i=await Mc(this.createAuthCodeClient.bind(this),Li,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),a=Cd.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let s;a&&(s=this.performanceClient.startMeasurement(hi,e.correlationId));const l=await i.getAuthCodeUrl({...r,platformBroker:a}),c=new kd(i,this.browserStorage,o,this.logger,this.performanceClient),u=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(Au,ys.Popup,{popupWindow:u},null);const d=await this.monitorPopupForHash(u,t.popupWindowParent),h=xc(Sd,Yi,this.logger,this.performanceClient,this.correlationId)(d,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Uu.removeThrottle(this.browserStorage,this.config.auth.clientId,o),h.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),s&&s.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw _l(vl);const e=new wd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,us,this.performanceClient,this.nativeMessageHandler,h.accountId,this.nativeStorage,r.correlationId),{userRequestState:t}=Vc.parseRequestState(this.browserCrypto,r.state);return await e.acquireToken({...r,state:t,prompt:void 0})}return await c.handleCodeResponse(h,r)}catch(pp){throw t.popup?.close(),pp instanceof En&&(pp.setCorrelationId(this.correlationId),n.cacheFailedRequest(pp)),pp}}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(_u,ys.Popup,e);const o=this.initializeServerTelemetryManager(ms);try{await this.clearCacheOnLogout(e.account);const i=await Mc(this.createAuthCodeClient.bind(this),Li,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{i.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&i.authority.protocolMode===Cn){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Ru,ys.Popup,e),r){const e={apiId:ms,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Ro.getAbsoluteUrl(r,dc());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const a=i.getLogoutUri(e);this.eventHandler.emitEvent(Ru,ys.Popup,e);const s=this.openPopup(a,t);if(this.eventHandler.emitEvent(Au,ys.Popup,{popupWindow:s},null),await this.monitorPopupForHash(s,t.popupWindowParent).catch((()=>{})),r){const e={apiId:ms,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Ro.getAbsoluteUrl(r,dc());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(pp){throw t.popup?.close(),pp instanceof En&&(pp.setCorrelationId(this.correlationId),o.cacheFailedRequest(pp)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Pu,ys.Popup,null,pp),this.eventHandler.emitEvent(Ou,ys.Popup),pp}this.eventHandler.emitEvent(Ou,ys.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),_l(xs)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(_l(Bs));let o="";try{o=e.location.href}catch(pp){}if(!o||"about:blank"===o)return;clearInterval(r);let i="";const a=this.config.auth.OIDCOptions.serverResponseType;e&&(i=a===Rt.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw _l(zs);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(pp){throw this.logger.error("error opening popup "+pp.message),this.browserStorage.setInteractionInProgress(!1),_l(Hs)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:o}=t;const i=o.screenLeft?o.screenLeft:o.screenX,a=o.screenTop?o.screenTop:o.screenY,s=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let c=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,h=r.popupPosition?.left;return(!c||c<0||c>s)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),c=Na),(!u||u<0||u>l)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=xa),(!d||d<0||d>l)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,l/2-xa/2+a)),(!h||h<0||h>s)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,s/2-Na/2+i)),o.open(e,n,`width=${c}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(ys.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${Ma}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Ma}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class Id{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Xa,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(rs,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:cs,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),_l(xs)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw wr(Dn,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(pp){throw pp instanceof qu&&pp.subError===Bs?_l(Bs):pp}const i=this.browserStorage.generateNonceKey(r),a=this.browserStorage.getTemporaryCache(i);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await Mc(this.authModule.updateAuthority.bind(this.authModule),Bi,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=a||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const s=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),s}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(ns,!0);if(e)try{return JSON.parse(e)}catch(pp){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}class Ed extends hd{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.nativeStorage=s}async acquireToken(e){const t=await Mc(this.initializeAuthorizationRequest.bind(this),Ui,this.logger,this.performanceClient,this.correlationId)(e,ys.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(cs),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(Nu,ys.Redirect))};try{const o=await Mc(this.initializeAuthorizationCodeRequest.bind(this),Di,this.logger,this.performanceClient,this.correlationId)(t),i=await Mc(this.createAuthCodeClient.bind(this),Li,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new Id(i,this.browserStorage,o,this.logger,this.performanceClient),s=await i.getAuthCodeUrl({...t,platformBroker:Cd.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",r),await a.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(pp){throw pp instanceof En&&(pp.setCorrelationId(this.correlationId),n.cacheFailedRequest(pp)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),pp}}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const n=this.initializeServerTelemetryManager(hs);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[r,o]=this.getRedirectResponse(e||"");if(!r)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(ys.Redirect),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const i=this.browserStorage.getTemporaryCache(Xa,!0)||lt.EMPTY_STRING,a=Ro.removeHashFromUrl(i);if(a===Ro.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),i.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(i);return await this.handleResponse(r,n)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(r,n);if(!uc()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Za,o,!0);const e={apiId:hs,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let t=!0;if(i&&"null"!==i)this.logger.verbose(`Navigating to loginRequestUrl: ${i}`),t=await this.navigationClient.navigateInternal(i,e);else{const n=function(){const e=new Ro(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(Xa,n,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),t=await this.navigationClient.navigateInternal(n,e)}if(!t)return await this.handleResponse(r,n)}return null}catch(pp){throw pp instanceof En&&(pp.setCorrelationId(this.correlationId),n.cacheFailedRequest(pp)),this.browserStorage.cleanRequestByInteractionType(ys.Redirect),pp}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===Rt.QUERY?window.location.search:window.location.hash);let n=_o(t);if(n){try{!function(e,t,n){if(!e.state)throw _l(Ls);const r=au(t,e.state);if(!r)throw _l(Us);if(r.interactionType!==n)throw _l(Ds)}(n,this.browserCrypto,ys.Redirect)}catch(pp){return pp instanceof En&&this.logger.error(`Interaction type validation failed due to ${pp.errorCode}: ${pp.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const o=this.browserStorage.getTemporaryCache(Za,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Za)),o&&(n=_o(o),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,o]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw _l(Ls);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw _l(vl);const t=new wd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,us,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=Vc.parseRequestState(this.browserCrypto,n);return t.acquireToken({...r,state:o,prompt:void 0}).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw _l(el);const i=await Mc(this.createAuthCodeClient.bind(this),Li,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});Uu.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new Id(i,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(gs);try{this.eventHandler.emitEvent(_u,ys.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:gs,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await Mc(this.createAuthCodeClient.bind(this),Li,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===Cn)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Ru,ys.Redirect,t)}const i=o.getLogoutUri(t);if(this.eventHandler.emitEvent(Ru,ys.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(i,r);if(!1!==e.onRedirectNavigate(i))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(i,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(pp){throw pp instanceof En&&(pp.setCorrelationId(this.correlationId),n.cacheFailedRequest(pp)),this.eventHandler.emitEvent(Pu,ys.Redirect,null,pp),this.eventHandler.emitEvent(Ou,ys.Redirect),pp}this.eventHandler.emitEvent(Ou,ys.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Ro.getAbsoluteUrl(t,dc())}}async function Ad(e,t,n,r,o){if(t.addQueueMeasurement(Oi,r),!e)throw n.info("Navigate url is empty"),_l(xs);return o?Mc(Rd,xi,n,t,r)(e,o,t,r):xc(Pd,Mi,n,t,r)(e)}async function _d(e,t,n,r,o,i,a){return r.addQueueMeasurement(Ni,i),new Promise(((r,i)=>{t<vc&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const s=window.setTimeout((()=>{window.clearInterval(l),i(_l($s))}),t),l=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(pp){}if(!t||"about:blank"===t)return;let o="";n&&(o=a===Rt.QUERY?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(l),r(o)}),n)})).finally((()=>{xc(Nd,da,o,r,i)(e)}))}function Rd(e,t,n,r){return n.addQueueMeasurement(xi,r),new Promise(((n,r)=>{const o=Od();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function Pd(e){const t=Od();return t.src=e,t}function Od(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function Nd(e){document.body===e.parentNode&&document.body.removeChild(e)}class xd extends hd{constructor(e,t,n,r,o,i,a,s,l,c,u){super(e,t,n,r,o,i,s,c,u),this.apiId=a,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(si,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==At.NONE&&t.prompt!==At.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${At.NONE}`),t.prompt=At.NONE):t.prompt=At.NONE;const n=await Mc(this.initializeAuthorizationRequest.bind(this),Ui,this.logger,this.performanceClient,e.correlationId)(t,ys.Silent);yc(n.authority);const r=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await Mc(this.createAuthCodeClient.bind(this),Li,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await Mc(this.silentTokenHelper.bind(this),Pi,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(pp){if(pp instanceof En&&(pp.setCorrelationId(this.correlationId),r.cacheFailedRequest(pp)),!o||!(pp instanceof En)||pp.errorCode!==Oa)throw pp;this.performanceClient.addFields({retryError:pp.errorCode},this.correlationId);const i=await Mc(this.initializeAuthorizationRequest.bind(this),Ui,this.logger,this.performanceClient,e.correlationId)(t,ys.Silent);return await Mc(this.silentTokenHelper.bind(this),Pi,this.logger,this.performanceClient,this.correlationId)(o,i)}}logout(){return Promise.reject(_l(Gs))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Pi,n);const r=await Mc(this.initializeAuthorizationCodeRequest.bind(this),Di,this.logger,this.performanceClient,n)(t),o=await Mc(e.getAuthCodeUrl.bind(e),Fi,this.logger,this.performanceClient,n)({...t,platformBroker:Cd.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),i=new kd(e,this.browserStorage,r,this.logger,this.performanceClient),a=await Mc(Ad,Oi,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,l=await Mc(_d,Ni,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),c=xc(Sd,Yi,this.logger,this.performanceClient,this.correlationId)(l,s,this.logger);if(c.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw _l(vl);const e=new wd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,c.accountId,this.browserStorage,n),{userRequestState:r}=Vc.parseRequestState(this.browserCrypto,t.state);return Mc(e.acquireToken.bind(e),fi,this.logger,this.performanceClient,n)({...t,state:r,prompt:t.prompt||At.NONE})}return Mc(i.handleCodeResponse.bind(i),zi,this.logger,this.performanceClient,n)(c,t)}}class Md extends Yu{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(vi,e.correlationId);const t=Er(),n=await Mc(this.executeTokenRequest.bind(this),yi,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[bt],o=new ed(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),Mc(o.handleServerTokenResponse.bind(o),Gi,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw fo(Yr);if(this.performanceClient?.addQueueMeasurement(wi,e.correlationId),!e.account)throw wr(Xn);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Mc(this.acquireTokenWithCachedRefreshToken.bind(this),bi,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(pp){const n=pp instanceof Kc&&pp.errorCode===Dc,r=pp instanceof qu&&pp.errorCode===Zt&&pp.subError===en;if(n||r)return Mc(this.acquireTokenWithCachedRefreshToken.bind(this),bi,this.logger,this.performanceClient,e.correlationId)(e,!1);throw pp}return Mc(this.acquireTokenWithCachedRefreshToken.bind(this),bi,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(bi,e.correlationId);const n=xc(this.cacheManager.getRefreshToken.bind(this.cacheManager),fa,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw Qc(Dc);if(n.expiresOn&&Ar(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),Qc(Hc);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Vt.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Gc}};try{return await Mc(this.acquireToken.bind(this),vi,this.logger,this.performanceClient,e.correlationId)(r)}catch(pp){if(pp instanceof Kc&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),pp.subError===zc)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=_r(n);this.cacheManager.removeRefreshToken(e)}throw pp}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(yi,e.correlationId);const n=this.createTokenQueryParameters(e),r=Ro.appendQueryString(t.tokenEndpoint,n),o=await Mc(this.createTokenRequestBody.bind(this),Ci,this.logger,this.performanceClient,e.correlationId)(e),i=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return Mc(this.executePostToTokenEndpoint.bind(this),gi,this.logger,this.performanceClient,e.correlationId)(r,o,i,a,e.correlationId,gi)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Ci,e.correlationId);const t=e.correlationId,n=new Vu(t,this.performanceClient);if(n.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[Du]||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(Nt),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!Go(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await nd(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(t.assertionType)}if(e.authenticationScheme===Vt.POP){const t=new Xu(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Mc(t.generateCnf.bind(t),Qi,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}else if(e.authenticationScheme===Vt.SSH){if(!e.sshJwk)throw fo(ro);n.addSshJwk(e.sshJwk)}if((!po.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Gc:try{const t=yo(e.ccsCredential.credential);n.addCcsOid(t)}catch(pp){this.logger.verbose("Could not parse home account ID for CCS Header: "+pp)}break;case Yc:n.addCcsUpn(e.ccsCredential.credential)}return e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}class Ld extends hd{async acquireToken(e){this.performanceClient.addQueueMeasurement(ci,e.correlationId);const t=await Mc(ud,Ei,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(ps),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Mc(o.acquireTokenByRefreshToken.bind(o),wi,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(_l(Gs))}async createRefreshTokenClient(e){const t=await Mc(this.getClientConfiguration.bind(this),qi,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Md(t,this.performanceClient)}}class qd{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw _l(rl);const r=e.correlationId||Yl(),o=t.id_token?Tr(t.id_token,ql):void 0,i={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new qc(qc.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,i,this.logger,e.correlationId||Yl()):void 0,s=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,o,a),l=await this.loadIdToken(t,s.homeAccountId,s.environment,s.realm,r),c=await this.loadAccessToken(e,t,s.homeAccountId,s.environment,s.realm,n,r),u=await this.loadRefreshToken(t,s.homeAccountId,s.environment,r);return this.generateAuthenticationResult(e,{account:s,idToken:l,accessToken:c,refreshToken:u},o,a)}async loadAccount(e,t,n,r,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=Eo.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!o||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),_l(cl);const i=Eo.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,r),a=r?.tid,s=td(this.storage,o,i,ql,r,t,o.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(s,n),s}async loadIdToken(e,t,n,r,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const i=Rr(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(i,o),i}async loadAccessToken(e,t,n,r,o,i,a){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const s=t.scope?go.fromString(t.scope):new go(e.scopes),l=i.expiresOn||t.expires_in+(new Date).getTime()/1e3,c=i.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+(new Date).getTime()/1e3,u=Pr(n,r,t.access_token,this.config.auth.clientId,o,s.printScopes(),l,c,ql);return await this.storage.setAccessTokenCredential(u,a),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Or(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,r),o}generateAuthenticationResult(e,t,n,r){let o,i="",a=[],s=null;t?.accessToken&&(i=t.accessToken.secret,a=go.fromString(t.accessToken.target).asArray(),s=new Date(1e3*Number(t.accessToken.expiresOn)),o=new Date(1e3*Number(t.accessToken.extendedExpiresOn)));const l=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:a,account:l.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:i,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}}class Ud extends rd{constructor(e){super(e),this.includeRedirectUri=!1}}class Dd extends hd{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,s,l,c),this.apiId=a}async acquireToken(e){if(!e.code)throw _l(dl);const t=await Mc(this.initializeAuthorizationRequest.bind(this),Ui,this.logger,this.performanceClient,e.correlationId)(e,ys.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await Mc(this.getClientConfiguration.bind(this),qi,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new Ud(o);this.logger.verbose("Auth code client created");const a=new kd(i,this.browserStorage,r,this.logger,this.performanceClient);return await Mc(a.handleCodeResponseFromServer.bind(a),Hi,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(pp){throw pp instanceof En&&(pp.setCorrelationId(this.correlationId),n.cacheFailedRequest(pp)),pp}}logout(){return Promise.reject(_l(Gs))}}function Fd(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function Hd(e,t){try{gc(e)}catch(pp){throw t.end({success:!1},pp),pp}}class zd{constructor(e){var t,n,r,o;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Oc(this.logger,this.performanceClient):Cr,this.eventHandler=new Lu(this.logger),this.browserStorage=this.isBrowserEnvironment?new xu(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(pp){throw fo(eo)}return{canonicalAuthority:e.authority?Uc(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):(t=this.config.auth.clientId,n=this.logger,r=this.performanceClient,o=this.eventHandler,new xu(t,{cacheLocation:Wa,temporaryCacheLocation:Wa,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},Cr,n,r,o));const i={cacheLocation:Wa,temporaryCacheLocation:Wa,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new xu(this.config.auth.clientId,i,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new qd(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new zd(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(lu);const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowPlatformBroker,r=this.performanceClient.startMeasurement(_i,t);if(this.eventHandler.emitEvent(su),await Mc(this.browserStorage.initialize.bind(this.browserStorage),Ri,this.logger,this.performanceClient,t)(t),n)try{this.nativeExtensionProvider=await Cd.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(pp){this.logger.verbose(pp)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Mc(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),ha,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(lu),r.end({allowPlatformBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),pc(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),r=n&&Cd.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=r?n?.correlationId:this.browserStorage.getTemporaryCache(rs,!0)||"",i=this.performanceClient.startMeasurement(ri,o);let a;if(this.eventHandler.emitEvent(Iu,ys.Redirect),r&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new wd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,hs,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);a=Mc(e.handleRedirectPromise.bind(e),ca,this.logger,this.performanceClient,i.event.correlationId)(this.performanceClient,i.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.createRedirectClient(o);a=Mc(t.handleRedirectPromise.bind(t),la,this.logger,this.performanceClient,i.event.correlationId)(e,i)}return a.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(fu,ys.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(mu,ys.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),i.end({success:!0,accountType:Fd(e.account)})}else i.event.errorCode?i.end({success:!1}):i.discard();return this.eventHandler.emitEvent(Eu,ys.Redirect),e})).catch((e=>{const n=e;throw t.length>0?this.eventHandler.emitEvent(yu,ys.Redirect,null,n):this.eventHandler.emitEvent(pu,ys.Redirect,null,n),this.eventHandler.emitEvent(Eu,ys.Redirect),i.end({success:!1},n),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(ni,t);n.add({accountType:Fd(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if(mc(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(gu,ys.Redirect,e):this.eventHandler.emitEvent(hu,ys.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new wd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cs,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof gd&&md(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof Kc){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(pp){throw n.end({success:!1},pp),o?this.eventHandler.emitEvent(yu,ys.Redirect,null,pp):this.eventHandler.emitEvent(pu,ys.Redirect,null,pp),pp}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(ti,t);n.add({scenarioId:e.scenarioId,accountType:Fd(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Hd(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(pp){return Promise.reject(pp)}const r=this.getAllAccounts();let o;if(r.length>0?this.eventHandler.emitEvent(gu,ys.Popup,e):this.eventHandler.emitEvent(hu,ys.Popup,e),this.canUsePlatformBroker(e))o=this.acquireTokenNative({...e,correlationId:t},us).then((e=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,accountType:Fd(e.account)}),e))).catch((n=>{if(n instanceof gd&&md(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e)}if(n instanceof Kc){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(fu,ys.Popup,e):this.eventHandler.emitEvent(mu,ys.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Fd(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(yu,ys.Popup,null,e):this.eventHandler.emitEvent(pu,ys.Popup,null,e),n.end({success:!1},e),Promise.reject(e))))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(ui,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Fd(e.account)}),Hd(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(bu,ys.Silent,n),this.canUsePlatformBroker(n))r=this.acquireTokenNative(n,ds).catch((e=>{if(e instanceof gd&&md(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(wu,ys.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Fd(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(Cu,ys.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(Jo,t);Hd(this.initialized,n),this.eventHandler.emitEvent(ku,ys.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw _l(fl);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Su,ys.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Fd(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Tu,ys.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},fs,e.nativeAccountId).catch((e=>{throw e instanceof gd&&md(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:Fd(r.account),success:!0}),r}throw _l(gl)}throw _l(hl)}catch(pp){throw this.eventHandler.emitEvent(Tu,ys.Silent,null,pp),n.end({success:!1},pp),pp}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(sa,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(ki,e.correlationId),t){case Cs:case ks:case Ss:const t=this.createSilentCacheClient(e.correlationId);return Mc(t.acquireToken.bind(t),ai,this.logger,this.performanceClient,e.correlationId)(e);default:throw wr(ar)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(Xo,e.correlationId),t){case Cs:case Ss:case Ts:case Is:const t=this.createSilentRefreshClient(e.correlationId);return Mc(t.acquireToken.bind(t),ci,this.logger,this.performanceClient,e.correlationId)(e);default:throw wr(ar)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Ii,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Mc(t.acquireToken.bind(t),si,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);mc(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);gc(this.initialized),this.browserStorage.setInteractionInProgress(!0);return this.createPopupClient(t).logout(e)}catch(pp){return Promise.reject(pp)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=Eo.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw _l(vl);return new wd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!Cd.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case At.NONE:case At.CONSENT:case At.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Td(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Ed(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new xd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ds,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new bd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Ld(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new Dd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,fs,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return fc(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===$a?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===$a?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Yl():lt.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||vs})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||vs})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Zo,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Hd(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw _l(Ys);n.add({accountType:Fd(r)});const o={clientId:this.config.auth.clientId,authority:e.authority||lt.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},i=JSON.stringify(o),a=this.activeSilentTokenRequests.get(i);if("undefined"===typeof a){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const o=Mc(this.acquireTokenSilentAsync.bind(this),ei,this.logger,this.performanceClient,t)({...e,correlationId:t},r).then((t=>(this.activeSilentTokenRequests.delete(i),n.end({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),t))).catch((e=>{throw this.activeSilentTokenRequests.delete(i),n.end({success:!1},e),e}));return this.activeSilentTokenRequests.set(i,o),{...await o,state:e.state}}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await a,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(ei,e.correlationId),this.eventHandler.emitEvent(gu,ys.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Mc(dd,Ai,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Cs;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof Kc&&e.subError!==zc),r=e.errorCode===Oa||e.errorCode===ar,o=n&&r||e.errorCode===Dc||e.errorCode===Hc,i=As.includes(t);return o&&i}(e,o);if(t){if(this.activeIframeRequest){if(o!==Es){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const i=this.performanceClient.startMeasurement(li,r.correlationId);i.add({awaitIframeCorrelationId:n});const a=await t;if(i.end({success:a}),a)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Mc(this.acquireTokenBySilentIframe.bind(this),Ii,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Mc(this.acquireTokenBySilentIframe.bind(this),Ii,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(mu,ys.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(yu,ys.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return Cd.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,ps).catch((async e=>{if(e instanceof gd&&md(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,wr(ar);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),Mc(this.acquireTokenFromCache.bind(this),ki,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===ks)throw n;return this.eventHandler.emitEvent(vu,ys.Silent,e),Mc(this.acquireTokenByRefreshToken.bind(this),Xo,this.logger,this.performanceClient,e.correlationId)(e,t)})))}}class Bd{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new Cc(e);return await n.initialize(),zd.createController(n,t)}(e);return new Bd(e,t)}constructor(e,t){this.controller=t||new zd(new Cc(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}var jd=n(579);const $d=new Bd({auth:{clientId:"4668327b-71a6-4a09-a468-6d2173ee2d23",authority:"https://login.microsoftonline.com/dd505be5-ec69-47f5-92df-caa55febf5fa",redirectUri:"http://localhost:3000/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}}),Kd=(0,o.createContext)(),Wd=e=>{let{children:t}=e;const[n,r]=(0,o.useState)(!1),[i,a]=(0,o.useState)(null),[s,l]=(0,o.useState)([]),[c,u]=(0,o.useState)(null),d=async()=>{try{const e=$d.getAllAccounts();if(0===e.length)throw new Error("No hay cuentas activas");return(await $d.acquireTokenSilent({scopes:["User.Read","Directory.Read.All"],account:e[0]})).accessToken}catch(e){throw console.error("Error al obtener el token:",e),e}},h=async e=>{try{const t=await fetch("https://graph.microsoft.com/v1.0/me/memberOf",{headers:{Authorization:`Bearer ${e}`}});return(await t.json()).value}catch(t){throw console.error("Error al obtener los roles de directorio:",t),t}},f=async e=>{try{const t=await fetch("https://graph.microsoft.com/v1.0/me",{headers:{Authorization:`Bearer ${e}`}});return await t.json()}catch(t){throw console.error("Error al obtener la informaci\xf3n del usuario:",t),t}};return(0,o.useEffect)((()=>{(async()=>{try{await $d.initialize();const e=$d.getAllAccounts();if(e.length>0){const t=await d(),n=await f(t),o=await h(t);r(!0),a(e[0]),l(o),u(n.jobTitle)}else{const e=JSON.parse(localStorage.getItem("user")),t=JSON.parse(localStorage.getItem("roles")),n=localStorage.getItem("jobTitle");e&&t&&n&&(r(!0),a(e),l(t),u(n))}}catch(e){console.error("Error al verificar la autenticaci\xf3n:",e)}})()}),[]),(0,jd.jsx)(Kd.Provider,{value:{isAuthenticated:n,user:i,roles:s,jobTitle:c,login:async()=>{try{const e=await $d.loginPopup({scopes:["User.Read","Directory.Read.All"]}),t=await d(),n=await f(t),o=await h(t);r(!0),a(e.account),l(o),u(n.jobTitle),localStorage.setItem("user",JSON.stringify(e.account)),localStorage.setItem("roles",JSON.stringify(o)),localStorage.setItem("jobTitle",n.jobTitle),console.log("Usuario autenticado:",e.account)}catch(e){throw console.error("Error durante el login:",e),e}},logout:()=>{$d.logout(),r(!1),a(null),l([]),u(null),localStorage.clear()}},children:t})},Qd=()=>{const[e,t]=(0,o.useState)(""),n=te(),{login:r}=(0,o.useContext)(Kd);return(0,jd.jsx)("div",{className:"container-fluid vh-100 d-flex align-items-center justify-content-center bg-light",children:(0,jd.jsx)("div",{className:"card shadow-lg p-4",style:{width:"100%",maxWidth:"400px"},children:(0,jd.jsxs)("div",{className:"card-body text-center",children:[(0,jd.jsxs)("h2",{className:"card-title mb-4",children:[(0,jd.jsx)("i",{className:"bi bi-person-circle me-2"}),"Iniciar Sesi\xf3n"]}),(0,jd.jsx)("p",{className:"text-muted mb-4",children:"Inicia sesi\xf3n con tu cuenta de Office 365 para acceder al chat."}),e&&(0,jd.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,jd.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2"}),e]}),(0,jd.jsxs)("button",{className:"btn btn-primary w-100 py-2",onClick:async()=>{try{await r(),n("/chat")}catch(e){t("Error durante el login. Int\xe9ntalo de nuevo."),console.error("Error durante el login:",e)}},children:[(0,jd.jsx)("i",{className:"bi bi-microsoft me-2"}),"Iniciar Sesi\xf3n con Office 365"]})]})})})};function Vd(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gd}=Object.prototype,{getPrototypeOf:Yd}=Object,Jd=(Xd=Object.create(null),e=>{const t=Gd.call(e);return Xd[t]||(Xd[t]=t.slice(8,-1).toLowerCase())});var Xd;const Zd=e=>(e=e.toLowerCase(),t=>Jd(t)===e),eh=e=>t=>typeof t===e,{isArray:th}=Array,nh=eh("undefined");const rh=Zd("ArrayBuffer");const oh=eh("string"),ih=eh("function"),ah=eh("number"),sh=e=>null!==e&&"object"===typeof e,lh=e=>{if("object"!==Jd(e))return!1;const t=Yd(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ch=Zd("Date"),uh=Zd("File"),dh=Zd("Blob"),hh=Zd("FileList"),fh=Zd("URLSearchParams"),[ph,gh,mh,yh]=["ReadableStream","Request","Response","Headers"].map(Zd);function vh(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),th(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function bh(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const wh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ch=e=>!nh(e)&&e!==wh;const kh=(Sh="undefined"!==typeof Uint8Array&&Yd(Uint8Array),e=>Sh&&e instanceof Sh);var Sh;const Th=Zd("HTMLFormElement"),Ih=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Eh=Zd("RegExp"),Ah=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};vh(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},_h="abcdefghijklmnopqrstuvwxyz",Rh="0123456789",Ph={DIGIT:Rh,ALPHA:_h,ALPHA_DIGIT:_h+_h.toUpperCase()+Rh};const Oh=Zd("AsyncFunction"),Nh=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],wh.addEventListener("message",(e=>{let{source:t,data:o}=e;t===wh&&o===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),wh.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,ih(wh.postMessage)),xh="undefined"!==typeof queueMicrotask?queueMicrotask.bind(wh):"undefined"!==typeof process&&process.nextTick||Nh,Mh={isArray:th,isArrayBuffer:rh,isBuffer:function(e){return null!==e&&!nh(e)&&null!==e.constructor&&!nh(e.constructor)&&ih(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ih(e.append)&&("formdata"===(t=Jd(e))||"object"===t&&ih(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&rh(e.buffer),t},isString:oh,isNumber:ah,isBoolean:e=>!0===e||!1===e,isObject:sh,isPlainObject:lh,isReadableStream:ph,isRequest:gh,isResponse:mh,isHeaders:yh,isUndefined:nh,isDate:ch,isFile:uh,isBlob:dh,isRegExp:Eh,isFunction:ih,isStream:e=>sh(e)&&ih(e.pipe),isURLSearchParams:fh,isTypedArray:kh,isFileList:hh,forEach:vh,merge:function e(){const{caseless:t}=Ch(this)&&this||{},n={},r=(r,o)=>{const i=t&&bh(n,o)||o;lh(n[i])&&lh(r)?n[i]=e(n[i],r):lh(r)?n[i]=e({},r):th(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&vh(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return vh(t,((t,r)=>{n&&ih(t)?e[r]=Vd(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Yd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Jd,kindOfTest:Zd,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(th(e))return e;let t=e.length;if(!ah(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Th,hasOwnProperty:Ih,hasOwnProp:Ih,reduceDescriptors:Ah,freezeMethods:e=>{Ah(e,((t,n)=>{if(ih(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];ih(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return th(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:bh,global:wh,isContextDefined:Ch,ALPHABET:Ph,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ph.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&ih(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(sh(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=th(e)?[]:{};return vh(e,((e,t)=>{const i=n(e,r+1);!nh(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Oh,isThenable:e=>e&&(sh(e)||ih(e))&&ih(e.then)&&ih(e.catch),setImmediate:Nh,asap:xh};function Lh(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Mh.inherits(Lh,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Mh.toJSONObject(this.config),code:this.code,status:this.status}}});const qh=Lh.prototype,Uh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Uh[e]={value:e}})),Object.defineProperties(Lh,Uh),Object.defineProperty(qh,"isAxiosError",{value:!0}),Lh.from=(e,t,n,r,o,i)=>{const a=Object.create(qh);return Mh.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Lh.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Dh=Lh;function Fh(e){return Mh.isPlainObject(e)||Mh.isArray(e)}function Hh(e){return Mh.endsWith(e,"[]")?e.slice(0,-2):e}function zh(e,t,n){return e?e.concat(t).map((function(e,t){return e=Hh(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Bh=Mh.toFlatObject(Mh,{},null,(function(e){return/^is[A-Z]/.test(e)}));const jh=function(e,t,n){if(!Mh.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Mh.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Mh.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Mh.isSpecCompliantForm(t);if(!Mh.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Mh.isDate(e))return e.toISOString();if(!s&&Mh.isBlob(e))throw new Dh("Blob is not supported. Use a Buffer instead.");return Mh.isArrayBuffer(e)||Mh.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(Mh.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Mh.isArray(e)&&function(e){return Mh.isArray(e)&&!e.some(Fh)}(e)||(Mh.isFileList(e)||Mh.endsWith(n,"[]"))&&(s=Mh.toArray(e)))return n=Hh(n),s.forEach((function(e,r){!Mh.isUndefined(e)&&null!==e&&t.append(!0===a?zh([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!Fh(e)||(t.append(zh(o,n,i),l(e)),!1)}const u=[],d=Object.assign(Bh,{defaultVisitor:c,convertValue:l,isVisitable:Fh});if(!Mh.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Mh.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Mh.forEach(n,(function(n,i){!0===(!(Mh.isUndefined(n)||null===n)&&o.call(t,n,Mh.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function $h(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Kh(e,t){this._pairs=[],e&&jh(e,this,t)}const Wh=Kh.prototype;Wh.append=function(e,t){this._pairs.push([e,t])},Wh.toString=function(e){const t=e?function(t){return e.call(this,t,$h)}:$h;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Qh=Kh;function Vh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gh(e,t,n){if(!t)return e;const r=n&&n.encode||Vh;Mh.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):Mh.isURLSearchParams(t)?t.toString():new Qh(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Yh=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Mh.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Jh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xh={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Qh,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Zh="undefined"!==typeof window&&"undefined"!==typeof document,ef="object"===typeof navigator&&navigator||void 0,tf=Zh&&(!ef||["ReactNative","NativeScript","NS"].indexOf(ef.product)<0),nf="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,rf=Zh&&window.location.href||"http://localhost",of={...r,...Xh};const af=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&Mh.isArray(r)?r.length:i,s)return Mh.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&Mh.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&Mh.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(Mh.isFormData(e)&&Mh.isFunction(e.entries)){const n={};return Mh.forEachEntry(e,((e,r)=>{t(function(e){return Mh.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const sf={transitional:Jh,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Mh.isObject(e);o&&Mh.isHTMLForm(e)&&(e=new FormData(e));if(Mh.isFormData(e))return r?JSON.stringify(af(e)):e;if(Mh.isArrayBuffer(e)||Mh.isBuffer(e)||Mh.isStream(e)||Mh.isFile(e)||Mh.isBlob(e)||Mh.isReadableStream(e))return e;if(Mh.isArrayBufferView(e))return e.buffer;if(Mh.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return jh(e,new of.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return of.isNode&&Mh.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Mh.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return jh(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Mh.isString(e))try{return(t||JSON.parse)(e),Mh.trim(e)}catch(pp){if("SyntaxError"!==pp.name)throw pp}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||sf.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Mh.isResponse(e)||Mh.isReadableStream(e))return e;if(e&&Mh.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(pp){if(n){if("SyntaxError"===pp.name)throw Dh.from(pp,Dh.ERR_BAD_RESPONSE,this,null,this.response);throw pp}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:of.classes.FormData,Blob:of.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Mh.forEach(["delete","get","head","post","put","patch"],(e=>{sf.headers[e]={}}));const lf=sf,cf=Mh.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uf=Symbol("internals");function df(e){return e&&String(e).trim().toLowerCase()}function hf(e){return!1===e||null==e?e:Mh.isArray(e)?e.map(hf):String(e)}function ff(e,t,n,r,o){return Mh.isFunction(r)?r.call(this,t,n):(o&&(t=n),Mh.isString(t)?Mh.isString(r)?-1!==t.indexOf(r):Mh.isRegExp(r)?r.test(t):void 0:void 0)}class pf{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=df(t);if(!o)throw new Error("header name must be a non-empty string");const i=Mh.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=hf(e))}const i=(e,t)=>Mh.forEach(e,((e,n)=>o(e,n,t)));if(Mh.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Mh.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&cf[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Mh.isHeaders(e))for(const[a,s]of e.entries())o(s,a,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=df(e)){const n=Mh.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Mh.isFunction(t))return t.call(this,e,n);if(Mh.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=df(e)){const n=Mh.findKey(this,e);return!(!n||void 0===this[n]||t&&!ff(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=df(e)){const o=Mh.findKey(n,e);!o||t&&!ff(0,n[o],o,t)||(delete n[o],r=!0)}}return Mh.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!ff(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Mh.forEach(this,((r,o)=>{const i=Mh.findKey(n,o);if(i)return t[i]=hf(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=hf(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Mh.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Mh.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[uf]=this[uf]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=df(e);t[r]||(!function(e,t){const n=Mh.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return Mh.isArray(e)?e.forEach(r):r(e),this}}pf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Mh.reduceDescriptors(pf.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Mh.freezeMethods(pf);const gf=pf;function mf(e,t){const n=this||lf,r=t||n,o=gf.from(r.headers);let i=r.data;return Mh.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function yf(e){return!(!e||!e.__CANCEL__)}function vf(e,t,n){Dh.call(this,null==e?"canceled":e,Dh.ERR_CANCELED,t,n),this.name="CanceledError"}Mh.inherits(vf,Dh,{__CANCEL__:!0});const bf=vf;function wf(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Dh("Request failed with status code "+n.status,[Dh.ERR_BAD_REQUEST,Dh.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Cf=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const kf=function(e,t){let n,r,o=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]},Sf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Cf(50,250);return kf((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Tf=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},If=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mh.asap((()=>e(...n)))},Ef=of.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,of.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(of.origin),of.navigator&&/(msie|trident)/i.test(of.navigator.userAgent)):()=>!0,Af=of.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];Mh.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Mh.isString(r)&&a.push("path="+r),Mh.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function _f(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Rf=e=>e instanceof gf?{...e}:e;function Pf(e,t){t=t||{};const n={};function r(e,t,n,r){return Mh.isPlainObject(e)&&Mh.isPlainObject(t)?Mh.merge.call({caseless:r},e,t):Mh.isPlainObject(t)?Mh.merge({},t):Mh.isArray(t)?t.slice():t}function o(e,t,n,o){return Mh.isUndefined(t)?Mh.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!Mh.isUndefined(t))return r(void 0,t)}function a(e,t){return Mh.isUndefined(t)?Mh.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(Rf(e),Rf(t),0,!0)};return Mh.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,a=i(e[r],t[r],r);Mh.isUndefined(a)&&i!==s||(n[r]=a)})),n}const Of=e=>{const t=Pf({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=gf.from(s),t.url=Gh(_f(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Mh.isFormData(r))if(of.hasStandardBrowserEnv||of.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(of.hasStandardBrowserEnv&&(o&&Mh.isFunction(o)&&(o=o(t)),o||!1!==o&&Ef(t.url))){const e=i&&a&&Af.read(a);e&&s.set(i,e)}return t},Nf="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Of(e);let o=r.data;const i=gf.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=gf.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());wf((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new Dh("Request aborted",Dh.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new Dh("Network Error",Dh.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Jh;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Dh(t,o.clarifyTimeoutError?Dh.ETIMEDOUT:Dh.ECONNABORTED,e,g)),g=null},void 0===o&&i.setContentType(null),"setRequestHeader"in g&&Mh.forEach(i.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Mh.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),f&&([l,u]=Sf(f,!0),g.addEventListener("progress",l)),h&&g.upload&&([s,c]=Sf(h),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{g&&(n(!t||t.type?new bf(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===of.protocols.indexOf(y)?n(new Dh("Unsupported protocol "+y+":",Dh.ERR_BAD_REQUEST,e)):g.send(o||null)}))},xf=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Dh?t:new bf(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new Dh(`timeout ${t} of ms exceeded`,Dh.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>Mh.asap(a),s}},Mf=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Lf=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},qf=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of Lf(e))yield*Mf(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Uf="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Df=Uf&&"function"===typeof ReadableStream,Ff=Uf&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Hf=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(pp){return!1}},zf=Df&&Hf((()=>{let e=!1;const t=new Request(of.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Bf=Df&&Hf((()=>Mh.isReadableStream(new Response("").body))),jf={stream:Bf&&(e=>e.body)};var $f;Uf&&($f=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!jf[e]&&(jf[e]=Mh.isFunction($f[e])?t=>t[e]():(t,n)=>{throw new Dh(`Response type '${e}' is not supported`,Dh.ERR_NOT_SUPPORT,n)})})));const Kf=async(e,t)=>{const n=Mh.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Mh.isBlob(e))return e.size;if(Mh.isSpecCompliantForm(e)){const t=new Request(of.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Mh.isArrayBufferView(e)||Mh.isArrayBuffer(e)?e.byteLength:(Mh.isURLSearchParams(e)&&(e+=""),Mh.isString(e)?(await Ff(e)).byteLength:void 0)})(t):n},Wf=Uf&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Of(e);c=c?(c+"").toLowerCase():"text";let f,p=xf([o,i&&i.toAbortSignal()],a);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let m;try{if(l&&zf&&"get"!==n&&"head"!==n&&0!==(m=await Kf(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Mh.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Tf(m,Sf(If(l)));r=qf(n.body,65536,e,t)}}Mh.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let i=await fetch(f);const a=Bf&&("stream"===c||"response"===c);if(Bf&&(s||a&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=Mh.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&Tf(t,Sf(If(s),!0))||[];i=new Response(qf(i.body,65536,n,(()=>{r&&r(),g&&g()})),e)}c=c||"text";let y=await jf[Mh.findKey(jf,c)||"text"](i,e);return!a&&g&&g(),await new Promise(((t,n)=>{wf(t,n,{data:y,headers:gf.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Dh("Network Error",Dh.ERR_NETWORK,e,f),{cause:y.cause||y});throw Dh.from(y,y&&y.code,e,f)}}),Qf={http:null,xhr:Nf,fetch:Wf};Mh.forEach(Qf,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(pp){}Object.defineProperty(e,"adapterName",{value:t})}}));const Vf=e=>`- ${e}`,Gf=e=>Mh.isFunction(e)||null===e||!1===e,Yf=e=>{e=Mh.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Gf(n)&&(r=Qf[(t=String(n)).toLowerCase()],void 0===r))throw new Dh(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Vf).join("\n"):" "+Vf(e[0]):"as no adapter specified";throw new Dh("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Jf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bf(null,e)}function Xf(e){Jf(e),e.headers=gf.from(e.headers),e.data=mf.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Yf(e.adapter||lf.adapter)(e).then((function(t){return Jf(e),t.data=mf.call(e,e.transformResponse,t),t.headers=gf.from(t.headers),t}),(function(t){return yf(t)||(Jf(e),t&&t.response&&(t.response.data=mf.call(e,e.transformResponse,t.response),t.response.headers=gf.from(t.response.headers))),Promise.reject(t)}))}const Zf="1.7.9",ep={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ep[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const tp={};ep.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Dh(r(o," has been removed"+(t?" in "+t:"")),Dh.ERR_DEPRECATED);return t&&!tp[o]&&(tp[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},ep.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const np={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Dh("options must be an object",Dh.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Dh("option "+i+" must be "+n,Dh.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Dh("Unknown option "+i,Dh.ERR_BAD_OPTION)}},validators:ep},rp=np.validators;class op{constructor(e){this.defaults=e,this.interceptors={request:new Yh,response:new Yh}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(pp){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Pf(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&np.assertOptions(n,{silentJSONParsing:rp.transitional(rp.boolean),forcedJSONParsing:rp.transitional(rp.boolean),clarifyTimeoutError:rp.transitional(rp.boolean)},!1),null!=r&&(Mh.isFunction(r)?t.paramsSerializer={serialize:r}:np.assertOptions(r,{encode:rp.function,serialize:rp.function},!0)),np.assertOptions(t,{baseUrl:rp.spelling("baseURL"),withXsrfToken:rp.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&Mh.merge(o.common,o[t.method]);o&&Mh.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=gf.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[Xf.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Xf.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Gh(_f((e=Pf(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Mh.forEach(["delete","get","head","options"],(function(e){op.prototype[e]=function(t,n){return this.request(Pf(n||{},{method:e,url:t,data:(n||{}).data}))}})),Mh.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Pf(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}op.prototype[e]=t(),op.prototype[e+"Form"]=t(!0)}));const ip=op;class ap{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new bf(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ap((function(t){e=t})),cancel:e}}}const sp=ap;const lp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lp).forEach((e=>{let[t,n]=e;lp[n]=t}));const cp=lp;const up=function e(t){const n=new ip(t),r=Vd(ip.prototype.request,n);return Mh.extend(r,ip.prototype,n,{allOwnKeys:!0}),Mh.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Pf(t,n))},r}(lf);up.Axios=ip,up.CanceledError=bf,up.CancelToken=sp,up.isCancel=yf,up.VERSION=Zf,up.toFormData=jh,up.AxiosError=Dh,up.Cancel=up.CanceledError,up.all=function(e){return Promise.all(e)},up.spread=function(e){return function(t){return e.apply(null,t)}},up.isAxiosError=function(e){return Mh.isObject(e)&&!0===e.isAxiosError},up.mergeConfig=Pf,up.AxiosHeaders=gf,up.formToJSON=e=>af(Mh.isHTMLForm(e)?new FormData(e):e),up.getAdapter=Yf,up.HttpStatusCode=cp,up.default=up;const dp=up;const hp=function(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)([]),[c,u]=(0,o.useState)(null),{isAuthenticated:d,user:h,jobTitle:f}=(0,o.useContext)(Kd);(0,o.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("chatHistory"))||[];l(e),e.length>0&&(u(e[e.length-1].id),t(e[e.length-1].messages))}),[]),(0,o.useEffect)((()=>{localStorage.setItem("chatHistory",JSON.stringify(s))}),[s]);const p=async()=>{if(n.trim()){const i={text:n,user_id:"default_user"},s=[...e,{sender:"user",text:n}];t(s),r(""),a(!0);try{const e={sender:"bot",text:(await dp.post("http://127.0.0.1:8000/api/process_message/",i)).data.response};t([...s,e]),l((t=>t.map((t=>t.id===c?{...t,messages:[...t.messages,i,e]}:t))))}catch(o){console.error("Error al enviar el mensaje:",o)}finally{a(!1)}}};return(0,jd.jsx)("div",{className:"container-fluid mt-3",children:(0,jd.jsxs)("div",{className:"row",children:[(0,jd.jsx)("div",{className:"col-md-3",children:(0,jd.jsxs)("div",{className:"card",children:[(0,jd.jsxs)("div",{className:"card-header bg-primary text-white d-flex justify-content-between align-items-center",children:[(0,jd.jsx)("h5",{children:"Historial de Chats"}),(0,jd.jsx)("button",{className:"btn btn-light btn-sm",onClick:()=>{const e=s.length+1,n={id:e,name:`Chat ${e}`,messages:[]};l([...s,n]),u(e),t([])},children:"Nuevo Chat"})]}),(0,jd.jsx)("div",{className:"card-body",style:{height:"80vh",overflowY:"auto"},children:(0,jd.jsx)("ul",{className:"list-group",children:s.map((e=>(0,jd.jsx)("li",{className:"list-group-item "+(e.id===c?"active":""),style:{cursor:"pointer"},onClick:()=>(e=>{u(e);const n=s.find((t=>t.id===e));t(n.messages)})(e.id),children:e.name},e.id)))})})]})}),(0,jd.jsx)("div",{className:"col-md-9",children:(0,jd.jsxs)("div",{className:"card",children:[(0,jd.jsxs)("div",{className:"card-header bg-primary text-white",children:[(0,jd.jsx)("h5",{children:"Chat"}),d&&h&&(0,jd.jsxs)("div",{children:[(0,jd.jsxs)("p",{className:"mb-0",children:["Bienvenido, ",h.name,"!"]}),(0,jd.jsxs)("small",{children:["Correo: ",h.username]}),(0,jd.jsx)("br",{}),(0,jd.jsxs)("small",{children:["Puesto: ",f]})," "]})]}),(0,jd.jsxs)("div",{className:"card-body",style:{height:"70vh",overflowY:"auto"},children:[e.map(((e,t)=>(0,jd.jsx)("div",{className:`d-flex justify-content-${"user"===e.sender?"end":"start"} mb-3`,children:(0,jd.jsxs)("div",{className:"p-3 rounded "+("user"===e.sender?"bg-primary text-white":"bg-light"),children:[(0,jd.jsxs)("strong",{children:["user"===e.sender?"T\xfa":"Chatbot",":"]})," ",e.text]})},t))),i&&(0,jd.jsx)("div",{className:"d-flex justify-content-start mb-3",children:(0,jd.jsx)("div",{className:"p-3 rounded bg-light",children:(0,jd.jsx)("em",{children:"Chatbot est\xe1 escribiendo..."})})})]}),(0,jd.jsx)("div",{className:"card-footer",children:(0,jd.jsxs)("div",{className:"input-group",children:[(0,jd.jsx)("input",{type:"text",className:"form-control",value:n,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&p(),placeholder:"Escribe tu mensaje..."}),(0,jd.jsx)("button",{className:"btn btn-primary",onClick:p,children:"Enviar"})]})})]})})]})})};const fp=function(){return(0,jd.jsxs)(Ze,{children:[" ",(0,jd.jsx)(Wd,{children:(0,jd.jsxs)(be,{children:[(0,jd.jsx)(ye,{path:"/",element:(0,jd.jsx)(me,{to:"/login"})}),(0,jd.jsx)(ye,{path:"/login",element:(0,jd.jsx)(Qd,{})}),(0,jd.jsx)(ye,{path:"/chat",element:(0,jd.jsx)(hp,{})})]})})]})};i.createRoot(document.getElementById("root")).render((0,jd.jsx)(o.StrictMode,{children:(0,jd.jsxs)(Ze,{children:[" ",(0,jd.jsx)(fp,{})]})}))})();
//# sourceMappingURL=main.b84470b0.js.map